{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp\\\\www\\\\Projet_mediatraining_DEV\\\\mediatraining\\\\src\\\\AjoutTypePayEleve.js\";\nimport React, { Component } from 'react';\nimport jQuery from 'jquery';\nimport { withRouter } from 'react-router-dom';\nimport Checkbox from 'rc-checkbox';\nimport 'rc-checkbox/assets/index.css';\n\nclass AjoutTypePayEleve extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addTypePay = event => {\n      this.setState({\n        typePay: event.target.value\n      });\n    };\n\n    this.addChoix = (e, el, index) => {\n      console.log('Checkbox checked:', e.target.checked);\n\n      if (e.target.checked === true) {\n        let element = el.id;\n        this.setState({\n          choixChecked: [...this.state.choixChecked, element]\n        });\n      } else {\n        this.state.choixChecked.splice(index, 1);\n      }\n    };\n\n    this.ajout = () => {\n      var userPermissions = JSON.parse(localStorage.getItem('userPermissions'));\n      var userId = userPermissions[0].idUser;\n      jQuery.ajax({\n        url: process.env.REACT_APP_API_URL + 'Back_mediatraining/AddTypePayEleve.php',\n        type: 'POST',\n        data: {\n          typePay: this.state.typePay,\n          userId: userId\n        },\n        dataType: 'json',\n        success: (code_html, statut) => {\n          if (code_html.Result == \"OK\") {\n            this.props.history.push('/TypesPaiementEleve');\n          } else if (code_html.Result == \"KO\") {\n            alert(\"erreur,l'un de vos champs est vide!!\");\n          }\n        }\n      });\n    };\n\n    this.state = {\n      typePay: '',\n      choix: [],\n      choixChecked: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(process.env.REACT_APP_API_URL + 'Back_mediatraining/GetChoixPay.php').then(res => {\n      console.log(res);\n      this.setState({\n        choix: res.data\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"page-wrapper\",\n      style: {\n        minHeight: '263px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row bg-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Ajout type paiement\"))), React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"white-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Type paiement\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: \"Type paiement\",\n      onChange: this.addTypePay,\n      style: {\n        borderRadius: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Choix\"), React.createElement(\"span\", {\n      style: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'space-between',\n        border: '1px solid',\n        padding: '10px',\n        borderRadius: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.state.choix.map((el, index) => React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Checkbox, {\n      onChange: e => this.addChoix(e, el, index),\n      disabled: this.state.disabled,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), el.choixPay)))))), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginBottom: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        width: '15%',\n        borderRadius: '5px'\n      },\n      type: \"button\",\n      className: \"btn btn-success\",\n      onClick: this.ajout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Confirmer\")))))));\n  }\n\n}\n\nexport default withRouter(AjoutTypePayEleve);","map":{"version":3,"sources":["C:/wamp/www/Projet_mediatraining_DEV/mediatraining/src/AjoutTypePayEleve.js"],"names":["React","Component","jQuery","withRouter","Checkbox","AjoutTypePayEleve","constructor","props","addTypePay","event","setState","typePay","target","value","addChoix","e","el","index","console","log","checked","element","id","choixChecked","state","splice","ajout","userPermissions","JSON","parse","localStorage","getItem","userId","idUser","ajax","url","process","env","REACT_APP_API_URL","type","data","dataType","success","code_html","statut","Result","history","push","alert","choix","componentDidMount","axios","get","then","res","render","minHeight","borderRadius","display","flexWrap","justifyContent","border","padding","map","disabled","choixPay","marginBottom","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport jQuery from 'jquery'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Checkbox from 'rc-checkbox';\r\nimport 'rc-checkbox/assets/index.css';\r\n\r\nclass AjoutTypePayEleve extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            typePay: '',\r\n            choix: [],\r\n            choixChecked: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(process.env.REACT_APP_API_URL + 'Back_mediatraining/GetChoixPay.php').then(res => {\r\n            console.log(res)\r\n            this.setState({\r\n                choix: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    addTypePay = (event) => {\r\n        this.setState({\r\n            typePay: event.target.value\r\n        });\r\n    }\r\n\r\n    addChoix = (e, el, index) => {\r\n        console.log('Checkbox checked:', (e.target.checked));\r\n        if (e.target.checked === true) {\r\n            let element = el.id\r\n            this.setState({\r\n                choixChecked: [...this.state.choixChecked, element]\r\n            });\r\n        }\r\n        else {\r\n            this.state.choixChecked.splice(index, 1)\r\n        }\r\n    }\r\n\r\n    ajout = () => {\r\n        var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n        var userId = userPermissions[0].idUser\r\n        jQuery.ajax({\r\n            url: process.env.REACT_APP_API_URL + 'Back_mediatraining/AddTypePayEleve.php',\r\n            type: 'POST',\r\n            data: {\r\n                typePay: this.state.typePay,\r\n                userId: userId\r\n            },\r\n            dataType: 'json',\r\n            success: (code_html, statut) => {\r\n                if (code_html.Result == \"OK\") {\r\n                    this.props.history.push('/TypesPaiementEleve');\r\n                }\r\n                else if (code_html.Result == \"KO\") {\r\n                    alert(\"erreur,l'un de vos champs est vide!!\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"page-wrapper\" style={{ minHeight: '263px' }}>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row bg-title\">\r\n                        <div className=\"col-lg-12\">\r\n                            <h4 className=\"page-title\">Ajout type paiement</h4>\r\n                        </div>\r\n                        {/* /.col-lg-12 */}\r\n                    </div>\r\n                    {/* /.row */}\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12\">\r\n                            <div class=\"white-box\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Type paiement</label>\r\n                                            <input type=\"text\" class=\"form-control\" placeholder=\"Type paiement\" onChange={this.addTypePay} style={{ borderRadius: '5px' }} />\r\n                                        </div>\r\n                                        <div class=\"col-md-6\">\r\n                                            <label>Choix</label>\r\n                                            <span style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-between', border: '1px solid', padding: '10px', borderRadius: '5px' }}>\r\n                                                {this.state.choix.map((el, index) =>\r\n                                                    <label>\r\n                                                        <Checkbox\r\n                                                            onChange={(e) => this.addChoix(e, el, index)}\r\n                                                            disabled={this.state.disabled}\r\n                                                        />\r\n                                                        {el.choixPay}\r\n                                                    </label>\r\n                                                )}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '10px' }}>\r\n                                    <button style={{ width: '15%', borderRadius: '5px' }} type=\"button\" className=\"btn btn-success\" onClick={this.ajout}>Confirmer</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(AjoutTypePayEleve);"]},"metadata":{},"sourceType":"module"}