{"ast":null,"code":"import _classCallCheck from\"C:\\\\wamp\\\\www\\\\savoir_plus_dev_nv\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\wamp\\\\www\\\\savoir_plus_dev_nv\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\wamp\\\\www\\\\savoir_plus_dev_nv\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\wamp\\\\www\\\\savoir_plus_dev_nv\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\wamp\\\\www\\\\savoir_plus_dev_nv\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component,Fragment}from'react';import{Link,BrowserRouter as Router,Route,Switch,withRouter,HashRouter,Redirect}from'react-router-dom';import axios from'axios';import jQuery from'jquery';import Select from'react-select';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{Slide,Zoom,Flip,Bounce}from'react-toastify';var ImpayeMois=/*#__PURE__*/function(_Component){_inherits(ImpayeMois,_Component);function ImpayeMois(props){var _this;_classCallCheck(this,ImpayeMois);_this=_possibleConstructorReturn(this,_getPrototypeOf(ImpayeMois).call(this,props));_this.searchEleve=function(selectedIdEleve){if(selectedIdEleve!==null){_this.setState({selectedIdEleve:selectedIdEleve});}else{_this.setState({selectedIdEleve:''});}};_this.searchMois=function(selectedMois){if(selectedMois!=null){_this.setState({selectedMois:selectedMois});}else{_this.setState({selectedMois:''});}};_this.searchGroup=function(selectedIdGroup){if(selectedIdGroup!==null){_this.setState({selectedIdGroup:selectedIdGroup});}else{_this.setState({selectedIdGroup:''});}};_this.recherche=function(){if(_this.state.selectedMois!=''){var mois=_this.state.selectedMois.value;// if (this.state.selectedIdEleve != '') {\n//     var eleve = this.state.selectedIdEleve.value\n// }\n// else {\n//     var eleve = ''\n// }\nif(_this.state.selectedIdGroup!=''){var groupe=_this.state.selectedIdGroup.value;}else{var groupe='';}var userPermissions=JSON.parse(localStorage.getItem('userPermissions'));var anneeScolaire=userPermissions[0].anneeScolaire;jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/ImpayerMens.php',type:'POST',data:{anneeScolaire:anneeScolaire,mois:mois,// eleve: eleve,\ngroupe:groupe},dataType:'json',success:function success(code_html,statut){_this.setState({arrayElvImp:code_html,initStatus:0},function(){var totImpay=0;for(var i=0;i<_this.state.arrayElvImp.length;i++){totImpay+=_this.state.arrayElvImp[i].reste;}_this.setState({totalImpay:totImpay});});}});}else{toast.error('⛔ Veuillez saisir le mois !!',{containerId:'A'});}};_this.state={arrayElvImp:[],mois:[{value:10,label:'Octobre (1ére tranche)'},{value:11,label:'Novembre (2éme tranche)'},{value:12,label:'Decembre (3éme tranche)'},{value:1,label:'Janvier (4éme tranche)'},{value:2,label:'Férvier (5éme tranche)'},{value:3,label:'Mars (6éme tranche)'},{value:4,label:'Avril (7éme tranche)'},{value:5,label:'Mai (8éme tranche)'},{value:6,label:'Juin (9éme tranche)'},{value:7,label:'Juillet (10éme tranche)'}],selectedMois:'',initStatus:1,listEleve:[],selectedIdEleve:'',listGroup:[],selectedIdGroup:'',totalImpay:0};return _this;}_createClass(ImpayeMois,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(JSON.parse(localStorage.getItem('userPermissions'))!=null){var userPermissions=JSON.parse(localStorage.getItem('userPermissions'));var anneeScolaire=userPermissions[0].anneeScolaire;jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/SelectEleves.php',type:'POST',data:{anneeScolaire:anneeScolaire},dataType:'json',success:function success(code_html,statut){console.log(code_html);_this2.setState({listEleve:code_html});}});jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/SelectGroupesInscrip.php',type:'POST',data:{anneeScolaire:anneeScolaire},dataType:'json',success:function success(code_html,statut){console.log(code_html);_this2.setState({listGroup:code_html});}});}else{document.location='/';}}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{id:\"page-wrapper\",style:{minHeight:'263px',marginLeft:'0px'}},React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(\"div\",{className:\"row bg-title\"},React.createElement(\"div\",{className:\"col-lg-12\"},React.createElement(\"h4\",{className:\"page-title\"},\" Tranches impay\\xE9s \\xE9tudiants\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-sm-12\"},React.createElement(\"div\",{className:\"white-box\"},React.createElement(\"div\",{style:{display:'flex',justifyContent:'flex-start',alignItems:'center',marginBottom:'10px',marginRight:'20px'}},React.createElement(Link,{to:\"/Menu\"},\" \",React.createElement(\"button\",{style:{background:'#DC143C',border:'1px solid #DC143C',borderRadius:'5px'},type:\"button\",className:\"btn btn-info\"},\" \",React.createElement(\"i\",{style:{paddingRight:'5px'},className:\"fas fa-arrow-circle-left\"}),\"Retour\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Mois\"),React.createElement(Select,{isClearable:true,isSearchable:true,onChange:function onChange(e){return _this3.searchMois(e);},options:this.state.mois}))),React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Groupe\"),React.createElement(Select,{isClearable:true,isSearchable:true,onChange:this.searchGroup,options:this.state.listGroup})))),React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-around'}},React.createElement(\"div\",null,React.createElement(\"button\",{style:{borderRadius:'5px',backgroundColor:'#761C19',borderColor:'#761C19'},type:\"button\",className:\"btn btn-success\",onClick:this.recherche},\"Rechercher\"))),React.createElement(\"div\",{className:\"row\"},this.state.arrayElvImp.length>0?React.createElement(Fragment,null,React.createElement(\"h3\",{style:{marginLeft:'10px'}},\" Total impayer par mois : \"+this.state.totalImpay,React.createElement(\"i\",{style:{paddingLeft:'5px',color:'#DFFF00'},class:\"fas fa-hand-holding-usd\"})),React.createElement(\"table\",{style:{marginTop:'10px'},className:\"table table-bordered\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"N\\xB0 inscription\"),React.createElement(\"th\",{scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Etudiant\"),React.createElement(\"th\",{scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Sp\\xE9cialit\\xE9\"),React.createElement(\"th\",{scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Formation\"),React.createElement(\"th\",{scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Niveau\"),React.createElement(\"th\",{scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Groupe\"),React.createElement(\"th\",{scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Reste\"))),this.state.arrayElvImp.map(function(el){return React.createElement(\"tbody\",null,React.createElement(\"tr\",null,React.createElement(\"td\",{style:{textAlign:'center'}},el.numIns),React.createElement(\"td\",{style:{textAlign:'center'}},el.nomComplet),React.createElement(\"td\",{style:{textAlign:'center'}},el.specialite),React.createElement(\"td\",{style:{textAlign:'center'}},el.formation),React.createElement(\"td\",{style:{textAlign:'center'}},el.niveau),React.createElement(\"td\",{style:{textAlign:'center'}},el.groupe),React.createElement(\"td\",{style:{textAlign:'center',fontWeight:'bold'}},el.reste)));}))):this.state.initStatus==1?null:React.createElement(\"div\",null,React.createElement(\"h3\",{style:{marginLeft:'10px'}},\"Impayer par mois :\"),React.createElement(\"p\",{style:{marginLeft:'10px'}},\"Tous les \\xE9leves ont pay\\xE9 la totalit\\xE9 de cette tranche\"))))),React.createElement(ToastContainer,{transition:Flip,enableMultiContainer:true,containerId:'A',position:toast.POSITION.TOP_RIGHT,autoClose:2500}))));}}]);return ImpayeMois;}(Component);export default ImpayeMois;","map":{"version":3,"sources":["C:/wamp/www/savoir_plus_dev_nv/mediatraining/src/ImpayeMois.js"],"names":["React","Component","Fragment","Link","BrowserRouter","Router","Route","Switch","withRouter","HashRouter","Redirect","axios","jQuery","Select","ToastContainer","toast","Slide","Zoom","Flip","Bounce","ImpayeMois","props","searchEleve","selectedIdEleve","setState","searchMois","selectedMois","searchGroup","selectedIdGroup","recherche","state","mois","value","groupe","userPermissions","JSON","parse","localStorage","getItem","anneeScolaire","ajax","url","process","env","REACT_APP_API_URL","type","data","dataType","success","code_html","statut","arrayElvImp","initStatus","totImpay","i","length","reste","totalImpay","error","containerId","label","listEleve","listGroup","console","log","document","location","minHeight","marginLeft","display","justifyContent","alignItems","marginBottom","marginRight","background","border","borderRadius","paddingRight","e","backgroundColor","borderColor","paddingLeft","color","marginTop","textAlign","fontWeight","map","el","numIns","nomComplet","specialite","formation","niveau","POSITION","TOP_RIGHT"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport { Link, BrowserRouter as Router, Route, Switch, withRouter, HashRouter, Redirect } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport jQuery from 'jquery'\r\nimport Select from 'react-select';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Slide, Zoom, Flip, Bounce } from 'react-toastify';\r\n\r\nclass ImpayeMois extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            arrayElvImp: [],\r\n            mois: [{ value: 10, label: 'Octobre (1ére tranche)' }, { value: 11, label: 'Novembre (2éme tranche)' }, { value: 12, label: 'Decembre (3éme tranche)' }, { value: 1, label: 'Janvier (4éme tranche)' }, { value: 2, label: 'Férvier (5éme tranche)' }, { value: 3, label: 'Mars (6éme tranche)' }, { value: 4, label: 'Avril (7éme tranche)' }, { value: 5, label: 'Mai (8éme tranche)' }, { value: 6, label: 'Juin (9éme tranche)' }, { value: 7, label: 'Juillet (10éme tranche)' }],\r\n            selectedMois: '',\r\n            initStatus: 1,\r\n            listEleve: [],\r\n            selectedIdEleve: '',\r\n            listGroup: [],\r\n            selectedIdGroup: '',\r\n            totalImpay: 0\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (JSON.parse((localStorage.getItem('userPermissions'))) != null) {\r\n            var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n            var anneeScolaire = userPermissions[0].anneeScolaire\r\n            jQuery.ajax({\r\n                url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectEleves.php',\r\n                type: 'POST',\r\n                data: {\r\n                    anneeScolaire: anneeScolaire\r\n                },\r\n                dataType: 'json',\r\n                success: (code_html, statut) => {\r\n                    console.log(code_html)\r\n                    this.setState({\r\n                        listEleve: code_html\r\n                    });\r\n                }\r\n            });\r\n            jQuery.ajax({\r\n                url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectGroupesInscrip.php',\r\n                type: 'POST',\r\n                data: {\r\n                    anneeScolaire: anneeScolaire\r\n                },\r\n                dataType: 'json',\r\n                success: (code_html, statut) => {\r\n                    console.log(code_html)\r\n                    this.setState({\r\n                        listGroup: code_html\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            document.location = '/'\r\n        }\r\n    }\r\n\r\n    searchEleve = selectedIdEleve => {\r\n        if (selectedIdEleve !== null) {\r\n            this.setState({ selectedIdEleve: selectedIdEleve });\r\n        }\r\n        else {\r\n            this.setState({\r\n                selectedIdEleve: ''\r\n            });\r\n        }\r\n    };\r\n\r\n    searchMois = selectedMois => {\r\n        if (selectedMois != null) {\r\n            this.setState({ selectedMois: selectedMois });\r\n        }\r\n        else {\r\n            this.setState({\r\n                selectedMois: '',\r\n            });\r\n        }\r\n    }\r\n\r\n    searchGroup = selectedIdGroup => {\r\n        if (selectedIdGroup !== null) {\r\n            this.setState({ selectedIdGroup: selectedIdGroup });\r\n        }\r\n        else {\r\n            this.setState({\r\n                selectedIdGroup: ''\r\n            });\r\n        }\r\n    };\r\n\r\n    recherche = () => {\r\n        if (this.state.selectedMois != '') {\r\n            var mois = this.state.selectedMois.value\r\n            // if (this.state.selectedIdEleve != '') {\r\n            //     var eleve = this.state.selectedIdEleve.value\r\n            // }\r\n            // else {\r\n            //     var eleve = ''\r\n            // }\r\n            if (this.state.selectedIdGroup != '') {\r\n                var groupe = this.state.selectedIdGroup.value\r\n            }\r\n            else {\r\n                var groupe = ''\r\n            }\r\n            var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n            var anneeScolaire = userPermissions[0].anneeScolaire\r\n            jQuery.ajax({\r\n                url: process.env.REACT_APP_API_URL + 'Back_mediatraining/ImpayerMens.php',\r\n                type: 'POST',\r\n                data: {\r\n                    anneeScolaire: anneeScolaire,\r\n                    mois: mois,\r\n                    // eleve: eleve,\r\n                    groupe: groupe\r\n                },\r\n                dataType: 'json',\r\n                success: (code_html, statut) => {\r\n                    this.setState({\r\n                        arrayElvImp: code_html,\r\n                        initStatus: 0\r\n                    }, () => {\r\n                        var totImpay = 0\r\n                        for (var i = 0; i < this.state.arrayElvImp.length; i++) {\r\n                            totImpay += this.state.arrayElvImp[i].reste\r\n                        }\r\n                        this.setState({\r\n                            totalImpay: totImpay\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            toast.error('⛔ Veuillez saisir le mois !!', { containerId: 'A' });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"page-wrapper\" style={{ minHeight: '263px', marginLeft: '0px' }}>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row bg-title\">\r\n                        <div className=\"col-lg-12\">\r\n                            <h4 className=\"page-title\"> Tranches impayés étudiants</h4>\r\n                        </div>\r\n                        {/* /.col-lg-12 */}\r\n                    </div>\r\n                    {/* /.row */}\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-12\">\r\n                            <div className=\"white-box\">\r\n                                <div style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center', marginBottom: '10px', marginRight: '20px' }}>\r\n                                    <Link to=\"/Menu\" > <button style={{ background: '#DC143C', border: '1px solid #DC143C', borderRadius: '5px' }} type=\"button\" className=\"btn btn-info\"> <i style={{ paddingRight: '5px' }} className=\"fas fa-arrow-circle-left\"></i>Retour</button></Link>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    {/* <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Apprenant</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={this.searchEleve}\r\n                                                options={this.state.listEleve}\r\n                                            />\r\n                                        </div>\r\n                                    </div> */}\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Mois</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={(e) => this.searchMois(e)}\r\n                                                options={this.state.mois}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Groupe</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={this.searchGroup}\r\n                                                options={this.state.listGroup}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{ display: 'flex', justifyContent: 'space-around' }}>\r\n                                    <div>\r\n                                        <button style={{ borderRadius: '5px', backgroundColor: '#761C19', borderColor: '#761C19' }} type=\"button\" className=\"btn btn-success\" onClick={this.recherche}>Rechercher</button>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    {this.state.arrayElvImp.length > 0 ?\r\n                                        (<Fragment>\r\n                                            <h3 style={{ marginLeft: '10px' }}>{\" Total impayer par mois : \" + this.state.totalImpay}<i style={{paddingLeft:'5px',color:'#DFFF00'}} class=\"fas fa-hand-holding-usd\"></i></h3>\r\n                                            <table style={{ marginTop: '10px' }} className=\"table table-bordered\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>N° inscription</th>\r\n                                                        <th scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Etudiant</th>\r\n                                                        <th scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Spécialité</th>\r\n                                                        <th scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Formation</th>\r\n                                                        <th scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Niveau</th>\r\n                                                        <th scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Groupe</th>\r\n                                                        {/* <th scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>N° tranche</th> */}\r\n                                                        <th scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Reste</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                {this.state.arrayElvImp.map(el =>\r\n                                                    <tbody>\r\n                                                        <tr>\r\n                                                            <td style={{ textAlign: 'center' }}>{el.numIns}</td>\r\n                                                            <td style={{ textAlign: 'center' }}>{el.nomComplet}</td>\r\n                                                            <td style={{ textAlign: 'center' }}>{el.specialite}</td>\r\n                                                            <td style={{ textAlign: 'center' }}>{el.formation}</td>\r\n                                                            <td style={{ textAlign: 'center' }}>{el.niveau}</td>\r\n                                                            <td style={{ textAlign: 'center' }}>{el.groupe}</td>\r\n                                                            {/* <td style={{ textAlign: 'center' }}>{el.numTrch}</td> */}\r\n                                                            <td style={{ textAlign: 'center', fontWeight: 'bold' }}>{el.reste}</td>\r\n                                                        </tr>\r\n                                                    </tbody>\r\n                                                )}\r\n                                            </table>\r\n                                        </Fragment>) : this.state.initStatus == 1 ? (null) : (<div>\r\n                                            <h3 style={{ marginLeft: '10px' }}>Impayer par mois :</h3>\r\n                                            <p style={{ marginLeft: '10px' }}>Tous les éleves ont payé la totalité de cette tranche</p>\r\n                                        </div>)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <ToastContainer transition={Flip} enableMultiContainer containerId={'A'} position={toast.POSITION.TOP_RIGHT} autoClose={2500} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default ImpayeMois;\r\n\r\n"]},"metadata":{},"sourceType":"module"}