{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp\\\\www\\\\Projet_mediatraining_DEV\\\\mediatraining\\\\src\\\\AjoutSeanceAbsent.js\";\nimport React, { Component } from 'react';\nimport jQuery from 'jquery';\nimport { withRouter } from 'react-router-dom';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport Select from 'react-select';\nimport Checkbox from 'rc-checkbox';\nimport 'rc-checkbox/assets/index.css';\n\nclass AjoutSeanceAbsent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.choixMatiere = selectedMatiere => {\n      if (selectedMatiere != null) {\n        this.setState({\n          selectedMatiere\n        }, () => {\n          jQuery.ajax({\n            url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectEnsMatFor.php',\n            type: 'POST',\n            data: {\n              matiereId: selectedMatiere.value\n            },\n            dataType: 'json',\n            success: (code_html, statut) => {\n              this.setState({\n                listEnseignant: code_html\n              });\n            }\n          });\n        });\n      }\n    };\n\n    this.choixEnseignant = selectedEnseignant => {\n      if (selectedEnseignant != null) {\n        var userPermissions = JSON.parse(localStorage.getItem('userPermissions'));\n        var anneeScolaire = userPermissions[0].anneeScolaire;\n        this.setState({\n          selectedEnseignant\n        }, () => {\n          jQuery.ajax({\n            url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectGroupParEnseign.php',\n            type: 'POST',\n            data: {\n              ensId: selectedEnseignant.value,\n              anneeScolaire: anneeScolaire\n            },\n            dataType: 'json',\n            success: (code_html, statut) => {\n              this.setState({\n                listGroupe: code_html\n              });\n            }\n          });\n        });\n      }\n    };\n\n    this.choixGroupe = selectedGroupe => {\n      if (selectedGroupe != null) {\n        var userPermissions = JSON.parse(localStorage.getItem('userPermissions'));\n        var anneeScolaire = userPermissions[0].anneeScolaire;\n        this.setState({\n          selectedGroupe\n        }, () => {\n          jQuery.ajax({\n            url: process.env.REACT_APP_API_URL + 'Back_mediatraining/GetEleveByGroup.php',\n            type: 'POST',\n            data: {\n              groupId: selectedGroupe.value,\n              anneeScolaire: anneeScolaire\n            },\n            dataType: 'json',\n            success: (code_html, statut) => {\n              this.setState({\n                listEleve: code_html\n              });\n            }\n          });\n        });\n      }\n    };\n\n    this.addDateSeance = d => {\n      this.setState({\n        dateSeance: d\n      });\n    };\n\n    this.addEtatTous = e => {\n      console.log('Checkbox checked:', e.target.checked);\n    };\n\n    this.addEtat = (event, index) => {\n      let etat = event;\n      this.setState({\n        listEleve: this.state.listEleve.map((el, id) => id === index ? Object.assign(el, {\n          etat: etat\n        }) : el)\n      });\n    };\n\n    this.ajout = () => {// var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\n      // var userId = userPermissions[0].idUser\n      // jQuery.ajax({\n      //     url: process.env.REACT_APP_API_URL + 'Back_mediatraining/AddRole.php',\n      //     type: 'POST',\n      //     data: {\n      //         role: this.state.role,\n      //         userId: userId\n      //     },\n      //     dataType: 'json',\n      //     success: (code_html, statut) => {\n      //         if (code_html.Result == \"OK\") {\n      //             this.props.history.push('/Roles');\n      //         }\n      //         else if (code_html.Result == \"KO\") {\n      //             alert(\"erreur,l'un de vos champs est vide!!\");\n      //         }\n      //     }\n      // });\n    };\n\n    this.state = {\n      listFormation: [],\n      selectedFormation: '',\n      listMatiere: [],\n      selectedMatiere: '',\n      listEnseignant: [],\n      selectedEnseignant: '',\n      listGroupe: [],\n      selectedGroupe: '',\n      dateSeance: new Date(),\n      heureDebut: new Date(),\n      heureFin: new Date(),\n      listEleve: []\n    };\n  }\n\n  componentDidMount() {\n    var userPermissions = JSON.parse(localStorage.getItem('userPermissions'));\n    var anneeScolaire = userPermissions[0].anneeScolaire;\n    jQuery.ajax({\n      url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectMatFor.php',\n      type: 'POST',\n      data: {\n        anneeScolaire: anneeScolaire\n      },\n      dataType: 'json',\n      success: (code_html, statut) => {\n        this.setState({\n          listMatiere: code_html\n        });\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"page-wrapper\",\n      style: {\n        minHeight: '263px',\n        marginLeft: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row bg-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Ajout s\\xE9ance\"))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"white-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Mati\\xE9re\"), React.createElement(Select, {\n      isClearable: true,\n      isSearchable: true,\n      onChange: this.choixMatiere,\n      options: this.state.listMatiere,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Enseignant\"), React.createElement(Select, {\n      isClearable: true,\n      isSearchable: true,\n      onChange: this.choixEnseignant,\n      options: this.state.listEnseignant,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Groupe\"), React.createElement(Select, {\n      isClearable: true,\n      isSearchable: true,\n      onChange: this.choixGroupe,\n      options: this.state.listGroupe,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Date s\\xE9ance\"), React.createElement(DatePicker, {\n      class: \"form-control ddate\",\n      style: {\n        border: 'none'\n      },\n      selected: this.state.dateSeance,\n      onChange: this.addDateSeance,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    })))), this.state.listEleve.length > 0 ? React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        padding: '10px',\n        borderRadius: '5px',\n        border: 'solid 1px #B3B3B3'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Pas d'absence\", React.createElement(Checkbox, {\n      onChange: e => this.addEtatTous(e),\n      disabled: this.state.disabled,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }))))), React.createElement(\"table\", {\n      style: {\n        marginTop: '10px'\n      },\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      style: {\n        textAlign: 'center'\n      },\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Prenom\"), React.createElement(\"th\", {\n      style: {\n        textAlign: 'center'\n      },\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Nom\"), React.createElement(\"th\", {\n      style: {\n        textAlign: 'center'\n      },\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"Assiduit\\xE9\"))), this.state.listEleve.map((el, index) => React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        textAlign: 'center',\n        borderRadius: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, el.prenom)), React.createElement(\"td\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        textAlign: 'center',\n        borderRadius: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, el.nom)), React.createElement(\"td\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \" \", React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \" Absent\", React.createElement(Checkbox, {\n      onChange: e => this.addEtat(e, index),\n      disabled: this.state.disabled,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    })))))))) : null, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginBottom: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        width: '15%',\n        borderRadius: '5px'\n      },\n      type: \"button\",\n      className: \"btn btn-success\",\n      onClick: this.ajout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"Confirmer\")))))));\n  }\n\n}\n\nexport default withRouter(AjoutSeanceAbsent);","map":{"version":3,"sources":["C:/wamp/www/Projet_mediatraining_DEV/mediatraining/src/AjoutSeanceAbsent.js"],"names":["React","Component","jQuery","withRouter","DatePicker","Select","Checkbox","AjoutSeanceAbsent","constructor","props","choixMatiere","selectedMatiere","setState","ajax","url","process","env","REACT_APP_API_URL","type","data","matiereId","value","dataType","success","code_html","statut","listEnseignant","choixEnseignant","selectedEnseignant","userPermissions","JSON","parse","localStorage","getItem","anneeScolaire","ensId","listGroupe","choixGroupe","selectedGroupe","groupId","listEleve","addDateSeance","d","dateSeance","addEtatTous","e","console","log","target","checked","addEtat","event","index","etat","state","map","el","id","Object","assign","ajout","listFormation","selectedFormation","listMatiere","Date","heureDebut","heureFin","componentDidMount","render","minHeight","marginLeft","border","length","display","flexWrap","padding","borderRadius","disabled","marginTop","textAlign","prenom","nom","justifyContent","marginBottom","width"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAO,4CAAP;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAO,8BAAP;;AAEA,MAAMC,iBAAN,SAAgCN,SAAhC,CAA0C;AACtCO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAoCnBC,YApCmB,GAoCJC,eAAe,IAAI;AAC9B,UAAIA,eAAe,IAAI,IAAvB,EAA6B;AACzB,aAAKC,QAAL,CAAc;AAAED,UAAAA;AAAF,SAAd,EAAmC,MAAM;AACrCT,UAAAA,MAAM,CAACW,IAAP,CAAY;AACRC,YAAAA,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,wCAD7B;AAERC,YAAAA,IAAI,EAAE,MAFE;AAGRC,YAAAA,IAAI,EAAE;AACFC,cAAAA,SAAS,EAAET,eAAe,CAACU;AADzB,aAHE;AAMRC,YAAAA,QAAQ,EAAE,MANF;AAORC,YAAAA,OAAO,EAAE,CAACC,SAAD,EAAYC,MAAZ,KAAuB;AAC5B,mBAAKb,QAAL,CAAc;AACVc,gBAAAA,cAAc,EAAEF;AADN,eAAd;AAGH;AAXO,WAAZ;AAaH,SAdD;AAeH;AACJ,KAtDkB;;AAAA,SAwDnBG,eAxDmB,GAwDDC,kBAAkB,IAAI;AACpC,UAAIA,kBAAkB,IAAI,IAA1B,EAAgC;AAC5B,YAAIC,eAAe,GAAGC,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAZ,CAAtB;AACA,YAAIC,aAAa,GAAGL,eAAe,CAAC,CAAD,CAAf,CAAmBK,aAAvC;AACA,aAAKtB,QAAL,CAAc;AAAEgB,UAAAA;AAAF,SAAd,EAAsC,MAAM;AACxC1B,UAAAA,MAAM,CAACW,IAAP,CAAY;AACRC,YAAAA,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,8CAD7B;AAERC,YAAAA,IAAI,EAAE,MAFE;AAGRC,YAAAA,IAAI,EAAE;AACFgB,cAAAA,KAAK,EAAEP,kBAAkB,CAACP,KADxB;AAEFa,cAAAA,aAAa,EAAEA;AAFb,aAHE;AAORZ,YAAAA,QAAQ,EAAE,MAPF;AAQRC,YAAAA,OAAO,EAAE,CAACC,SAAD,EAAYC,MAAZ,KAAuB;AAC5B,mBAAKb,QAAL,CAAc;AACVwB,gBAAAA,UAAU,EAAEZ;AADF,eAAd;AAGH;AAZO,WAAZ;AAcH,SAfD;AAgBH;AACJ,KA7EkB;;AAAA,SA+EnBa,WA/EmB,GA+ELC,cAAc,IAAI;AAC5B,UAAIA,cAAc,IAAI,IAAtB,EAA4B;AACxB,YAAIT,eAAe,GAAGC,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAZ,CAAtB;AACA,YAAIC,aAAa,GAAGL,eAAe,CAAC,CAAD,CAAf,CAAmBK,aAAvC;AACA,aAAKtB,QAAL,CAAc;AAAE0B,UAAAA;AAAF,SAAd,EAAkC,MAAM;AACpCpC,UAAAA,MAAM,CAACW,IAAP,CAAY;AACRC,YAAAA,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,wCAD7B;AAERC,YAAAA,IAAI,EAAE,MAFE;AAGRC,YAAAA,IAAI,EAAE;AACFoB,cAAAA,OAAO,EAAED,cAAc,CAACjB,KADtB;AAEFa,cAAAA,aAAa,EAAEA;AAFb,aAHE;AAORZ,YAAAA,QAAQ,EAAE,MAPF;AAQRC,YAAAA,OAAO,EAAE,CAACC,SAAD,EAAYC,MAAZ,KAAuB;AAC5B,mBAAKb,QAAL,CAAc;AACV4B,gBAAAA,SAAS,EAAEhB;AADD,eAAd;AAGH;AAZO,WAAZ;AAcH,SAfD;AAgBH;AACJ,KApGkB;;AAAA,SAsGnBiB,aAtGmB,GAsGHC,CAAC,IAAI;AACjB,WAAK9B,QAAL,CAAc;AACV+B,QAAAA,UAAU,EAAED;AADF,OAAd;AAGH,KA1GkB;;AAAA,SA4GnBE,WA5GmB,GA4GJC,CAAD,IAAO;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAkCF,CAAC,CAACG,MAAF,CAASC,OAA3C;AACH,KA9GkB;;AAAA,SAgHnBC,OAhHmB,GAgHT,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACxB,UAAIC,IAAI,GAAGF,KAAX;AACA,WAAKvC,QAAL,CAAc;AACV4B,QAAAA,SAAS,EAAE,KAAKc,KAAL,CAAWd,SAAX,CAAqBe,GAArB,CAAyB,CAACC,EAAD,EAAKC,EAAL,KAAaA,EAAE,KAAKL,KAAP,GAAeM,MAAM,CAACC,MAAP,CAAcH,EAAd,EAAkB;AAAEH,UAAAA,IAAI,EAAEA;AAAR,SAAlB,CAAf,GAAmDG,EAAzF;AADD,OAAd;AAGH,KArHkB;;AAAA,SAuHnBI,KAvHmB,GAuHX,MAAM,CACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KA3IkB;;AAEf,SAAKN,KAAL,GAAa;AACTO,MAAAA,aAAa,EAAE,EADN;AAETC,MAAAA,iBAAiB,EAAE,EAFV;AAGTC,MAAAA,WAAW,EAAE,EAHJ;AAITpD,MAAAA,eAAe,EAAE,EAJR;AAKTe,MAAAA,cAAc,EAAE,EALP;AAMTE,MAAAA,kBAAkB,EAAE,EANX;AAOTQ,MAAAA,UAAU,EAAE,EAPH;AAQTE,MAAAA,cAAc,EAAE,EARP;AASTK,MAAAA,UAAU,EAAE,IAAIqB,IAAJ,EATH;AAUTC,MAAAA,UAAU,EAAE,IAAID,IAAJ,EAVH;AAWTE,MAAAA,QAAQ,EAAE,IAAIF,IAAJ,EAXD;AAYTxB,MAAAA,SAAS,EAAE;AAZF,KAAb;AAcH;;AAED2B,EAAAA,iBAAiB,GAAG;AAChB,QAAItC,eAAe,GAAGC,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAZ,CAAtB;AACA,QAAIC,aAAa,GAAGL,eAAe,CAAC,CAAD,CAAf,CAAmBK,aAAvC;AACAhC,IAAAA,MAAM,CAACW,IAAP,CAAY;AACRC,MAAAA,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,qCAD7B;AAERC,MAAAA,IAAI,EAAE,MAFE;AAGRC,MAAAA,IAAI,EAAE;AACFe,QAAAA,aAAa,EAAEA;AADb,OAHE;AAMRZ,MAAAA,QAAQ,EAAE,MANF;AAORC,MAAAA,OAAO,EAAE,CAACC,SAAD,EAAYC,MAAZ,KAAuB;AAC5B,aAAKb,QAAL,CAAc;AACVmD,UAAAA,WAAW,EAAEvC;AADH,SAAd;AAGH;AAXO,KAAZ;AAaH;;AA2GD4C,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,EAAE,EAAC,cAAR;AAAuB,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE,OAAb;AAAsBC,QAAAA,UAAU,EAAE;AAAlC,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,CADJ,CADJ,EAQI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI,oBAAC,MAAD;AACI,MAAA,WAAW,EAAE,IADjB;AAEI,MAAA,YAAY,EAAE,IAFlB;AAGI,MAAA,QAAQ,EAAE,KAAK5D,YAHnB;AAII,MAAA,OAAO,EAAE,KAAK4C,KAAL,CAAWS,WAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,CADJ,EAYI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI,oBAAC,MAAD;AACI,MAAA,WAAW,EAAE,IADjB;AAEI,MAAA,YAAY,EAAE,IAFlB;AAGI,MAAA,QAAQ,EAAE,KAAKpC,eAHnB;AAII,MAAA,OAAO,EAAE,KAAK2B,KAAL,CAAW5B,cAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,CAZJ,EAuBI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI,oBAAC,MAAD;AACI,MAAA,WAAW,EAAE,IADjB;AAEI,MAAA,YAAY,EAAE,IAFlB;AAGI,MAAA,QAAQ,EAAE,KAAKW,WAHnB;AAII,MAAA,OAAO,EAAE,KAAKiB,KAAL,CAAWlB,UAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,CAvBJ,EAkCI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAC,oBAAlB;AAAuC,MAAA,KAAK,EAAE;AAAEmC,QAAAA,MAAM,EAAE;AAAV,OAA9C;AACI,MAAA,QAAQ,EAAE,KAAKjB,KAAL,CAAWX,UADzB;AAEI,MAAA,QAAQ,EAAE,KAAKF,aAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,CAlCJ,CADJ,EA6CK,KAAKa,KAAL,CAAWd,SAAX,CAAqBgC,MAArB,GAA8B,CAA9B,GACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,QAAQ,EAAE,MAA7B;AAAqCC,QAAAA,OAAO,EAAE,MAA9C;AAAsDC,QAAAA,YAAY,EAAE,KAApE;AAA2EL,QAAAA,MAAM,EAAE;AAAnF,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,QAAD;AACI,MAAA,QAAQ,EAAG1B,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CADrB;AAEI,MAAA,QAAQ,EAAE,KAAKS,KAAL,CAAWuB,QAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ,CADJ,CADH,EAaG;AAAO,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAd;AAAqC,MAAA,SAAS,EAAC,sBAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAX;AAAoC,MAAA,KAAK,EAAC,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAI,MAAA,KAAK,EAAE;AAAEA,QAAAA,SAAS,EAAE;AAAb,OAAX;AAAoC,MAAA,KAAK,EAAC,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,EAGI;AAAI,MAAA,KAAK,EAAE;AAAEA,QAAAA,SAAS,EAAE;AAAb,OAAX;AAAoC,MAAA,KAAK,EAAC,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,CADJ,CADJ,EAQK,KAAKzB,KAAL,CAAWd,SAAX,CAAqBe,GAArB,CAAyB,CAACC,EAAD,EAAKJ,KAAL,KACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,KAAK,EAAE;AAAE2B,QAAAA,SAAS,EAAE;AAAb,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoC;AAAG,MAAA,KAAK,EAAE;AAAEA,QAAAA,SAAS,EAAE,QAAb;AAAuBH,QAAAA,YAAY,EAAE;AAArC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyDpB,EAAE,CAACwB,MAA5D,CAApC,CADJ,EAEI;AAAI,MAAA,KAAK,EAAE;AAAED,QAAAA,SAAS,EAAE;AAAb,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoC;AAAG,MAAA,KAAK,EAAE;AAAEA,QAAAA,SAAS,EAAE,QAAb;AAAuBH,QAAAA,YAAY,EAAE;AAArC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyDpB,EAAE,CAACyB,GAA5D,CAApC,CAFJ,EAGI;AAAI,MAAA,KAAK,EAAE;AAAEF,QAAAA,SAAS,EAAE;AAAb,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACzC,oBAAC,QAAD;AACY,MAAA,QAAQ,EAAGlC,CAAD,IAAO,KAAKK,OAAL,CAAaL,CAAb,EAAgBO,KAAhB,CAD7B;AAEY,MAAA,QAAQ,EAAE,KAAKE,KAAL,CAAWuB,QAFjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADyC,CAArC,CAHJ,CADJ,CADH,CARL,CAbH,CADJ,GAqCc,IAlFnB,EAmFI;AAAK,MAAA,KAAK,EAAE;AAAEJ,QAAAA,OAAO,EAAE,MAAX;AAAmBS,QAAAA,cAAc,EAAE,QAAnC;AAA6CC,QAAAA,YAAY,EAAE;AAA3D,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,KAAT;AAAgBR,QAAAA,YAAY,EAAE;AAA9B,OAAf;AAAsD,MAAA,IAAI,EAAC,QAA3D;AAAoE,MAAA,SAAS,EAAC,iBAA9E;AAAgG,MAAA,OAAO,EAAE,KAAKhB,KAA9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CAnFJ,CADJ,CADJ,CARJ,CADJ,CADJ;AAwGH;;AAvPqC;;AA0P1C,eAAezD,UAAU,CAACI,iBAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\r\nimport jQuery from 'jquery'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Select from 'react-select';\r\nimport Checkbox from 'rc-checkbox';\r\nimport 'rc-checkbox/assets/index.css';\r\n\r\nclass AjoutSeanceAbsent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listFormation: [],\r\n            selectedFormation: '',\r\n            listMatiere: [],\r\n            selectedMatiere: '',\r\n            listEnseignant: [],\r\n            selectedEnseignant: '',\r\n            listGroupe: [],\r\n            selectedGroupe: '',\r\n            dateSeance: new Date(),\r\n            heureDebut: new Date(),\r\n            heureFin: new Date(),\r\n            listEleve: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n        var anneeScolaire = userPermissions[0].anneeScolaire\r\n        jQuery.ajax({\r\n            url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectMatFor.php',\r\n            type: 'POST',\r\n            data: {\r\n                anneeScolaire: anneeScolaire\r\n            },\r\n            dataType: 'json',\r\n            success: (code_html, statut) => {\r\n                this.setState({\r\n                    listMatiere: code_html\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    choixMatiere = selectedMatiere => {\r\n        if (selectedMatiere != null) {\r\n            this.setState({ selectedMatiere }, () => {\r\n                jQuery.ajax({\r\n                    url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectEnsMatFor.php',\r\n                    type: 'POST',\r\n                    data: {\r\n                        matiereId: selectedMatiere.value\r\n                    },\r\n                    dataType: 'json',\r\n                    success: (code_html, statut) => {\r\n                        this.setState({\r\n                            listEnseignant: code_html\r\n                        });\r\n                    }\r\n                });\r\n            })\r\n        }\r\n    }\r\n\r\n    choixEnseignant = selectedEnseignant => {\r\n        if (selectedEnseignant != null) {\r\n            var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n            var anneeScolaire = userPermissions[0].anneeScolaire\r\n            this.setState({ selectedEnseignant }, () => {\r\n                jQuery.ajax({\r\n                    url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectGroupParEnseign.php',\r\n                    type: 'POST',\r\n                    data: {\r\n                        ensId: selectedEnseignant.value,\r\n                        anneeScolaire: anneeScolaire\r\n                    },\r\n                    dataType: 'json',\r\n                    success: (code_html, statut) => {\r\n                        this.setState({\r\n                            listGroupe: code_html\r\n                        });\r\n                    }\r\n                });\r\n            })\r\n        }\r\n    };\r\n\r\n    choixGroupe = selectedGroupe => {\r\n        if (selectedGroupe != null) {\r\n            var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n            var anneeScolaire = userPermissions[0].anneeScolaire\r\n            this.setState({ selectedGroupe }, () => {\r\n                jQuery.ajax({\r\n                    url: process.env.REACT_APP_API_URL + 'Back_mediatraining/GetEleveByGroup.php',\r\n                    type: 'POST',\r\n                    data: {\r\n                        groupId: selectedGroupe.value,\r\n                        anneeScolaire: anneeScolaire\r\n                    },\r\n                    dataType: 'json',\r\n                    success: (code_html, statut) => {\r\n                        this.setState({\r\n                            listEleve: code_html\r\n                        });\r\n                    }\r\n                });\r\n            })\r\n        }\r\n    };\r\n\r\n    addDateSeance = d => {\r\n        this.setState({\r\n            dateSeance: d\r\n        });\r\n    }\r\n\r\n    addEtatTous = (e) => {\r\n        console.log('Checkbox checked:', (e.target.checked));\r\n    }\r\n\r\n    addEtat = (event, index) => {\r\n        let etat = event;\r\n        this.setState({\r\n            listEleve: this.state.listEleve.map((el, id) => (id === index ? Object.assign(el, { etat: etat }) : el))\r\n        });\r\n    }\r\n\r\n    ajout = () => {\r\n        // var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n        // var userId = userPermissions[0].idUser\r\n        // jQuery.ajax({\r\n        //     url: process.env.REACT_APP_API_URL + 'Back_mediatraining/AddRole.php',\r\n        //     type: 'POST',\r\n        //     data: {\r\n        //         role: this.state.role,\r\n        //         userId: userId\r\n        //     },\r\n        //     dataType: 'json',\r\n        //     success: (code_html, statut) => {\r\n        //         if (code_html.Result == \"OK\") {\r\n        //             this.props.history.push('/Roles');\r\n        //         }\r\n        //         else if (code_html.Result == \"KO\") {\r\n        //             alert(\"erreur,l'un de vos champs est vide!!\");\r\n        //         }\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"page-wrapper\" style={{ minHeight: '263px', marginLeft: '0px' }}>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row bg-title\">\r\n                        <div className=\"col-lg-12\">\r\n                            <h4 className=\"page-title\">Ajout séance</h4>\r\n                        </div>\r\n                        {/* /.col-lg-12 */}\r\n                    </div>\r\n                    {/* /.row */}\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-12\">\r\n                            <div className=\"white-box\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Matiére</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={this.choixMatiere}\r\n                                                options={this.state.listMatiere}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Enseignant</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={this.choixEnseignant}\r\n                                                options={this.state.listEnseignant}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Groupe</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={this.choixGroupe}\r\n                                                options={this.state.listGroupe}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Date séance</label>\r\n                                            <DatePicker class=\"form-control ddate\" style={{ border: 'none' }}\r\n                                                selected={this.state.dateSeance}\r\n                                                onChange={this.addDateSeance}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                {this.state.listEleve.length > 0 ?\r\n                                    (<div className=\"row\">\r\n                                        <div className=\"col-md-6\">\r\n                                            <div className=\"form-group\">\r\n                                                <span style={{ display: 'flex', flexWrap: 'wrap', padding: '10px', borderRadius: '5px', border: 'solid 1px #B3B3B3' }}>\r\n                                                    <label>Pas d'absence\r\n                                                        <Checkbox\r\n                                                            onChange={(e) => this.addEtatTous(e)}\r\n                                                            disabled={this.state.disabled}\r\n                                                        />\r\n                                                    </label>\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <table style={{ marginTop: '10px' }} className=\"table table-bordered\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th style={{ textAlign: 'center' }} scope=\"col\">Prenom</th>\r\n                                                    <th style={{ textAlign: 'center' }} scope=\"col\">Nom</th>\r\n                                                    <th style={{ textAlign: 'center' }} scope=\"col\">Assiduité</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            {this.state.listEleve.map((el, index) =>\r\n                                                <tbody>\r\n                                                    <tr>\r\n                                                        <td style={{ textAlign: 'center' }}><p style={{ textAlign: 'center', borderRadius: '5px' }}>{el.prenom}</p></td>\r\n                                                        <td style={{ textAlign: 'center' }}><p style={{ textAlign: 'center', borderRadius: '5px' }}>{el.nom}</p></td>\r\n                                                        <td style={{ textAlign: 'center' }}> <label> Absent\r\n                                                    <Checkbox\r\n                                                                onChange={(e) => this.addEtat(e, index)}\r\n                                                                disabled={this.state.disabled}\r\n                                                            />\r\n                                                        </label></td>\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                            )}\r\n                                        </table>\r\n                                    </div>) : (null)}\r\n                                <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '10px' }}>\r\n                                    <button style={{ width: '15%', borderRadius: '5px' }} type=\"button\" className=\"btn btn-success\" onClick={this.ajout}>Confirmer</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(AjoutSeanceAbsent);"]},"metadata":{},"sourceType":"module"}