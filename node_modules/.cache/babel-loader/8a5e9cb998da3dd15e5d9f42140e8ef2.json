{"ast":null,"code":"import _classCallCheck from\"C:\\\\wamp\\\\www\\\\savoir_plus_dev_nv\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\wamp\\\\www\\\\savoir_plus_dev_nv\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\wamp\\\\www\\\\savoir_plus_dev_nv\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\wamp\\\\www\\\\savoir_plus_dev_nv\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\wamp\\\\www\\\\savoir_plus_dev_nv\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component,Fragment}from'react';import axios from'axios';import jQuery from'jquery';import{Link,BrowserRouter as Router,Route,Switch,withRouter,HashRouter,Redirect}from'react-router-dom';import Select from'react-select';import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import{Button,Modal,ModalHeader,ModalBody,ModalFooter}from'reactstrap';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{Slide,Zoom,Flip,Bounce}from'react-toastify';import Checkbox from'rc-checkbox';import'rc-checkbox/assets/index.css';import Collapsible from'react-collapsible';var CaisseUser=/*#__PURE__*/function(_Component){_inherits(CaisseUser,_Component);function CaisseUser(props){var _this;_classCallCheck(this,CaisseUser);_this=_possibleConstructorReturn(this,_getPrototypeOf(CaisseUser).call(this,props));_this.selectUser=function(selectedUser){if(selectedUser!=null){_this.setState({selectedUser:selectedUser},function(){jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/CaisseUser.php',type:'POST',data:{userId:selectedUser.value,dateDebut:_this.state.dateDebut,dateFin:_this.state.dateFin},dataType:'json',success:function success(code_html,statut){_this.setState({arrayEncaiss:code_html[0],arrayDecaiss:code_html[1],blockDet:true},function(){// Montant total encaissement\nvar sommeEncaiss=0;for(var i=0;i<_this.state.arrayEncaiss.length;i++){sommeEncaiss+=parseFloat(_this.state.arrayEncaiss[i].montant);}// Montant total decaissement\nvar sommeDecaiss=0;for(var j=0;j<_this.state.arrayDecaiss.length;j++){sommeDecaiss+=parseFloat(_this.state.arrayDecaiss[i].montant);}var reste=sommeEncaiss-sommeDecaiss;_this.setState({totEncaiss:sommeEncaiss,totDecaiss:sommeDecaiss,totReste:reste});});}});});}else{_this.setState({arrayEncaiss:[],arrayDecaiss:[],blockDet:false,selectedUser:''});}};_this.addDateDebut=function(d){_this.setState({dateDebut:d});};_this.addDateFin=function(d){_this.setState({dateFin:d});};_this.recherche=function(){if(_this.state.selectedUser!=''){// convert date debut\nif(_this.state.dateDebut!=\"\"){var dateDebut=_this.state.dateDebut;var month=''+(dateDebut.getMonth()+1);var day=''+dateDebut.getDate();var year=dateDebut.getFullYear();if(month.length<2)month='0'+month;if(day.length<2)day='0'+day;var convertdateDebut=[year,month,day].join('-');}else{var convertdateDebut=\"\";}//\nif(_this.state.dateFin!=\"\"){var dateFin=_this.state.dateFin;var _month=''+(dateFin.getMonth()+1);var _day=''+dateFin.getDate();var _year=dateFin.getFullYear();if(_month.length<2)_month='0'+_month;if(_day.length<2)_day='0'+_day;var convertdateFin=[_year,_month,_day].join('-');}else{var convertdateFin=\"\";}//\njQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/CaisseUser.php',type:'POST',data:{userId:_this.state.selectedUser.value,dateDebut:convertdateDebut,dateFin:convertdateFin},dataType:'json',success:function success(code_html,statut){console.log(code_html);_this.setState({arrayEncaiss:code_html[0],arrayDecaiss:code_html[1]},function(){// Montant total encaissement\nvar sommeEncaiss=0;for(var i=0;i<_this.state.arrayEncaiss.length;i++){sommeEncaiss+=parseFloat(_this.state.arrayEncaiss[i].montant);}// Montant total decaissement\nvar sommeDecaiss=0;for(var j=0;j<_this.state.arrayDecaiss.length;j++){sommeDecaiss+=parseFloat(_this.state.arrayDecaiss[i].montant);}var reste=sommeEncaiss-sommeDecaiss;_this.setState({totEncaiss:sommeEncaiss,totDecaiss:sommeDecaiss,totReste:reste});});}});}else{toast.error('⛔ Veuillez choisir un utilisateur !!',{containerId:'A'});}};_this.state={user:[],selectedUser:'',dateDebut:'',dateFin:'',arrayEncaiss:[],arrayDecaiss:[],totEncaiss:'',totDecaiss:'',totReste:'',blockDet:false};return _this;}_createClass(CaisseUser,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(JSON.parse(localStorage.getItem('userPermissions'))!=null){axios.get(process.env.REACT_APP_API_URL+'Back_mediatraining/SelectUser.php').then(function(res){console.log(res);_this2.setState({user:res.data});});}else{document.location='/';}}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{id:\"page-wrapper\",style:{minHeight:'263px',marginLeft:'0px'}},React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(\"div\",{className:\"row bg-title\"},React.createElement(\"div\",{className:\"col-lg-12\"},React.createElement(\"h4\",{className:\"page-title\"},\"Caisse utilisateur\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-sm-12\"},React.createElement(\"div\",{className:\"white-box\"},React.createElement(\"div\",{style:{display:'flex',justifyContent:'flex-start',alignItems:'center',marginBottom:'10px',marginRight:'20px'}},React.createElement(Link,{to:\"/Menu\"},\" \",React.createElement(\"button\",{style:{background:'#DC143C',border:'1px solid #DC143C',borderRadius:'5px'},type:\"button\",className:\"btn btn-info\"},\" \",React.createElement(\"i\",{style:{paddingRight:'5px'},className:\"fas fa-arrow-circle-left\"}),\"Retour\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-4\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Utilisateur\"),React.createElement(Select,{isClearable:true,isSearchable:true,onChange:function onChange(e){return _this3.selectUser(e);},options:this.state.user}))),React.createElement(\"div\",{className:\"col-md-4\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Date debut\"),React.createElement(DatePicker,{class:\"form-control ddate\",style:{border:'none'},selected:this.state.dateDebut,onChange:this.addDateDebut,dateFormat:\"dd/MM/yyy\"}))),React.createElement(\"div\",{className:\"col-md-4\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Date fin\"),React.createElement(DatePicker,{class:\"form-control ddate\",style:{border:'none'},selected:this.state.dateFin,onChange:this.addDateFin,dateFormat:\"dd/MM/yyy\"}))),React.createElement(\"div\",{style:{textAlign:'center'}},React.createElement(\"button\",{style:{borderRadius:'5px',backgroundColor:'#761C19',borderColor:'#761C19'},type:\"button\",className:\"btn btn-success\",onClick:this.recherche},\"Rechercher\")),this.state.blockDet==true?React.createElement(Fragment,null,React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-around'}},React.createElement(\"div\",{style:{width:'45%'}},React.createElement(Collapsible,{trigger:React.createElement(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center'}},React.createElement(\"button\",{style:{backgroundColor:'#D9534F',borderRadius:'5px'}},React.createElement(\"i\",{style:{color:'white'},className:\"fas fa-info\"})),React.createElement(\"h2\",null,\"Encaissement\"))},React.createElement(\"table\",{style:{marginTop:'10px'},className:\"table table-bordered\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{className:\"col-md-6\",scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Date\"),React.createElement(\"th\",{className:\"col-md-4\",scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Montant\"),React.createElement(\"th\",{className:\"col-md-2\",scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Mode\"))),this.state.arrayEncaiss.map(function(el){return React.createElement(\"tbody\",null,React.createElement(\"tr\",null,React.createElement(\"td\",{className:\"col-md-6\",style:{textAlign:'center'}},el.date),React.createElement(\"td\",{className:\"col-md-4\",style:{textAlign:'center'}},el.montant),React.createElement(\"td\",{className:\"col-md-2\",style:{textAlign:'center'}},el.mode)));})),React.createElement(\"table\",{className:\"table table-bordered\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{className:\"col-md-6\",style:{textAlign:'center',fontWeight:'bold',backgroundColor:'#f2f2f2'}},\"Montant total encaissement\"),React.createElement(\"th\",{style:{textAlign:'center',backgroundColor:'#f2f2f2'},className:\"col-md-4\"},this.state.totEncaiss),React.createElement(\"th\",{style:{textAlign:'center'},className:\"col-md-2\"},React.createElement(\"i\",{style:{color:'#008000',fontSize:'20px'},class:\"fas fa-sign-in-alt\"}))))))),React.createElement(\"div\",{style:{width:'45%'}},React.createElement(Collapsible,{trigger:React.createElement(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center'}},React.createElement(\"button\",{style:{backgroundColor:'#D9534F',borderRadius:'5px'}},React.createElement(\"i\",{style:{color:'white'},className:\"fas fa-info\"})),React.createElement(\"h2\",null,\"Decaissement\"))},React.createElement(\"table\",{style:{marginTop:'10px'},className:\"table table-bordered\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{className:\"col-md-6\",scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Date\"),React.createElement(\"th\",{className:\"col-md-4\",scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Montant\"),React.createElement(\"th\",{className:\"col-md-2\",scope:\"col\",style:{textAlign:'center',color:'#337AB7',fontWeight:'bold'}},\"Mode\"))),this.state.arrayDecaiss.map(function(el){return React.createElement(\"tbody\",null,React.createElement(\"tr\",null,React.createElement(\"td\",{className:\"col-md-6\",style:{textAlign:'center'}},el.date),React.createElement(\"td\",{className:\"col-md-4\",style:{textAlign:'center'}},el.montant),React.createElement(\"td\",{className:\"col-md-2\",style:{textAlign:'center'}},el.mode)));})),React.createElement(\"table\",{className:\"table table-bordered\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{className:\"col-md-6\",style:{textAlign:'center',fontWeight:'bold',backgroundColor:'#f2f2f2'}},\"Montant total decaissement\"),React.createElement(\"th\",{style:{textAlign:'center',backgroundColor:'#f2f2f2'},className:\"col-md-4\"},this.state.totDecaiss),React.createElement(\"th\",{style:{textAlign:'center'},className:\"col-md-2\"},React.createElement(\"i\",{style:{color:'#CD5C5C',fontSize:'20px'},class:\"fas fa-sign-out-alt\"})))))))),React.createElement(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center'}},React.createElement(\"div\",null,React.createElement(\"i\",{style:{color:'#6495ED',fontSize:'20px'},class:\"fas fa-cash-register\"})),React.createElement(\"div\",{style:{padding:'5px'}},React.createElement(\"h4\",{style:{textAlign:'center'}},'Caisse de '+this.state.selectedUser.label+' = '+this.state.totReste)))):null))))));}}]);return CaisseUser;}(Component);export default withRouter(CaisseUser);","map":{"version":3,"sources":["C:/wamp/www/savoir_plus_dev_nv/mediatraining/src/CaisseUser.js"],"names":["React","Component","Fragment","axios","jQuery","Link","BrowserRouter","Router","Route","Switch","withRouter","HashRouter","Redirect","Select","DatePicker","Button","Modal","ModalHeader","ModalBody","ModalFooter","ToastContainer","toast","Slide","Zoom","Flip","Bounce","Checkbox","Collapsible","CaisseUser","props","selectUser","selectedUser","setState","ajax","url","process","env","REACT_APP_API_URL","type","data","userId","value","dateDebut","state","dateFin","dataType","success","code_html","statut","arrayEncaiss","arrayDecaiss","blockDet","sommeEncaiss","i","length","parseFloat","montant","sommeDecaiss","j","reste","totEncaiss","totDecaiss","totReste","addDateDebut","d","addDateFin","recherche","month","getMonth","day","getDate","year","getFullYear","convertdateDebut","join","convertdateFin","console","log","error","containerId","user","JSON","parse","localStorage","getItem","get","then","res","document","location","minHeight","marginLeft","display","justifyContent","alignItems","marginBottom","marginRight","background","border","borderRadius","paddingRight","e","textAlign","backgroundColor","borderColor","width","color","marginTop","fontWeight","map","el","date","mode","fontSize","padding","label"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport jQuery from 'jquery'\r\nimport { Link, BrowserRouter as Router, Route, Switch, withRouter, HashRouter, Redirect } from 'react-router-dom'\r\nimport Select from 'react-select';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Slide, Zoom, Flip, Bounce } from 'react-toastify';\r\nimport Checkbox from 'rc-checkbox';\r\nimport 'rc-checkbox/assets/index.css';\r\nimport Collapsible from 'react-collapsible';\r\n\r\nclass CaisseUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: [],\r\n            selectedUser: '',\r\n            dateDebut: '',\r\n            dateFin: '',\r\n            arrayEncaiss: [],\r\n            arrayDecaiss: [],\r\n            totEncaiss: '',\r\n            totDecaiss: '',\r\n            totReste: '',\r\n            blockDet: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (JSON.parse((localStorage.getItem('userPermissions'))) != null) {\r\n            axios.get(process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectUser.php').then(res => {\r\n                console.log(res)\r\n                this.setState({\r\n                    user: res.data\r\n                })\r\n            })\r\n        }\r\n        else {\r\n            document.location = '/'\r\n        }\r\n    }\r\n\r\n    selectUser = (selectedUser) => {\r\n        if (selectedUser != null) {\r\n            this.setState({\r\n                selectedUser: selectedUser\r\n            }, () => {\r\n                jQuery.ajax({\r\n                    url: process.env.REACT_APP_API_URL + 'Back_mediatraining/CaisseUser.php',\r\n                    type: 'POST',\r\n                    data: {\r\n                        userId: selectedUser.value,\r\n                        dateDebut: this.state.dateDebut,\r\n                        dateFin: this.state.dateFin\r\n                    },\r\n                    dataType: 'json',\r\n                    success: (code_html, statut) => {\r\n                        this.setState({\r\n                            arrayEncaiss: code_html[0],\r\n                            arrayDecaiss: code_html[1],\r\n                            blockDet: true\r\n                        }, () => {\r\n                            // Montant total encaissement\r\n                            var sommeEncaiss = 0;\r\n                            for (var i = 0; i < this.state.arrayEncaiss.length; i++) {\r\n                                sommeEncaiss += parseFloat(this.state.arrayEncaiss[i].montant)\r\n                            }\r\n                            // Montant total decaissement\r\n                            var sommeDecaiss = 0;\r\n                            for (var j = 0; j < this.state.arrayDecaiss.length; j++) {\r\n                                sommeDecaiss += parseFloat(this.state.arrayDecaiss[i].montant)\r\n                            }\r\n                            var reste = sommeEncaiss - sommeDecaiss\r\n                            this.setState({\r\n                                totEncaiss: sommeEncaiss,\r\n                                totDecaiss: sommeDecaiss,\r\n                                totReste: reste\r\n                            });\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                arrayEncaiss: [],\r\n                arrayDecaiss: [],\r\n                blockDet: false,\r\n                selectedUser: ''\r\n            });\r\n        }\r\n    }\r\n\r\n    addDateDebut = d => {\r\n        this.setState({\r\n            dateDebut: d\r\n        });\r\n    };\r\n\r\n    addDateFin = d => {\r\n        this.setState({\r\n            dateFin: d\r\n        });\r\n    };\r\n\r\n    recherche = () => {\r\n        if (this.state.selectedUser != '') {\r\n            // convert date debut\r\n            if (this.state.dateDebut != \"\") {\r\n                let dateDebut = this.state.dateDebut\r\n                let month = '' + (dateDebut.getMonth() + 1);\r\n                let day = '' + dateDebut.getDate();\r\n                let year = dateDebut.getFullYear();\r\n                if (month.length < 2)\r\n                    month = '0' + month;\r\n                if (day.length < 2)\r\n                    day = '0' + day;\r\n                var convertdateDebut = [year, month, day].join('-');\r\n            }\r\n            else {\r\n                var convertdateDebut = \"\"\r\n            }\r\n            //\r\n            if (this.state.dateFin != \"\") {\r\n                let dateFin = this.state.dateFin\r\n                let month = '' + (dateFin.getMonth() + 1);\r\n                let day = '' + dateFin.getDate();\r\n                let year = dateFin.getFullYear();\r\n                if (month.length < 2)\r\n                    month = '0' + month;\r\n                if (day.length < 2)\r\n                    day = '0' + day;\r\n                var convertdateFin = [year, month, day].join('-');\r\n            }\r\n            else {\r\n                var convertdateFin = \"\"\r\n            }\r\n            //\r\n            jQuery.ajax({\r\n                url: process.env.REACT_APP_API_URL + 'Back_mediatraining/CaisseUser.php',\r\n                type: 'POST',\r\n                data: {\r\n                    userId: this.state.selectedUser.value,\r\n                    dateDebut: convertdateDebut,\r\n                    dateFin: convertdateFin\r\n                },\r\n                dataType: 'json',\r\n                success: (code_html, statut) => {\r\n                    console.log(code_html)\r\n                    this.setState({\r\n                        arrayEncaiss: code_html[0],\r\n                        arrayDecaiss: code_html[1]\r\n                    }, () => {\r\n                        // Montant total encaissement\r\n                        var sommeEncaiss = 0;\r\n                        for (var i = 0; i < this.state.arrayEncaiss.length; i++) {\r\n                            sommeEncaiss += parseFloat(this.state.arrayEncaiss[i].montant)\r\n                        }\r\n                        // Montant total decaissement\r\n                        var sommeDecaiss = 0;\r\n                        for (var j = 0; j < this.state.arrayDecaiss.length; j++) {\r\n                            sommeDecaiss += parseFloat(this.state.arrayDecaiss[i].montant)\r\n                        }\r\n                        var reste = sommeEncaiss - sommeDecaiss\r\n                        this.setState({\r\n                            totEncaiss: sommeEncaiss,\r\n                            totDecaiss: sommeDecaiss,\r\n                            totReste: reste\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n            )\r\n        }\r\n        else {\r\n            toast.error('⛔ Veuillez choisir un utilisateur !!', { containerId: 'A' });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"page-wrapper\" style={{ minHeight: '263px', marginLeft: '0px' }}>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row bg-title\">\r\n                        <div className=\"col-lg-12\">\r\n                            <h4 className=\"page-title\">Caisse utilisateur</h4>\r\n                        </div>\r\n                        {/* /.col-lg-12 */}\r\n                    </div>\r\n                    {/* /.row */}\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-12\">\r\n                            <div className=\"white-box\">\r\n                                <div style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center', marginBottom: '10px', marginRight: '20px' }}>\r\n                                    <Link to=\"/Menu\" > <button style={{ background: '#DC143C', border: '1px solid #DC143C', borderRadius: '5px' }} type=\"button\" className=\"btn btn-info\"> <i style={{ paddingRight: '5px' }} className=\"fas fa-arrow-circle-left\"></i>Retour</button></Link>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-4\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Utilisateur</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={(e) => this.selectUser(e)}\r\n                                                options={this.state.user}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Date debut</label>\r\n                                            <DatePicker class=\"form-control ddate\" style={{ border: 'none' }}\r\n                                                selected={this.state.dateDebut}\r\n                                                onChange={this.addDateDebut}\r\n                                                dateFormat=\"dd/MM/yyy\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Date fin</label>\r\n                                            <DatePicker class=\"form-control ddate\" style={{ border: 'none' }}\r\n                                                selected={this.state.dateFin}\r\n                                                onChange={this.addDateFin}\r\n                                                dateFormat=\"dd/MM/yyy\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'center' }}>\r\n                                        <button style={{ borderRadius: '5px', backgroundColor: '#761C19', borderColor: '#761C19' }} type=\"button\" className=\"btn btn-success\" onClick={this.recherche}>Rechercher</button>\r\n                                    </div>\r\n                                    {this.state.blockDet == true ? (\r\n                                        <Fragment>\r\n                                            <div style={{ display: 'flex', justifyContent: 'space-around' }}>\r\n                                                <div style={{ width: '45%' }}>\r\n                                                    <Collapsible trigger={<div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}><button style={{ backgroundColor: '#D9534F', borderRadius: '5px' }}><i style={{ color: 'white' }} className=\"fas fa-info\"></i></button><h2>Encaissement</h2></div>}>\r\n                                                        <table style={{ marginTop: '10px' }} className=\"table table-bordered\">\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th className=\"col-md-6\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Date</th>\r\n                                                                    <th className=\"col-md-4\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Montant</th>\r\n                                                                    <th className=\"col-md-2\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Mode</th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                            {this.state.arrayEncaiss.map(el =>\r\n                                                                <tbody>\r\n                                                                    <tr>\r\n                                                                        <td className=\"col-md-6\" style={{ textAlign: 'center' }}>{el.date}</td>\r\n                                                                        <td className=\"col-md-4\" style={{ textAlign: 'center' }}>{el.montant}</td>\r\n                                                                        <td className=\"col-md-2\" style={{ textAlign: 'center' }}>{el.mode}</td>\r\n                                                                    </tr>\r\n                                                                </tbody>\r\n                                                            )}\r\n                                                        </table>\r\n                                                        <table className=\"table table-bordered\">\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th className=\"col-md-6\" style={{ textAlign: 'center', fontWeight: 'bold', backgroundColor: '#f2f2f2' }}>Montant total encaissement</th>\r\n                                                                    <th style={{ textAlign: 'center', backgroundColor: '#f2f2f2' }} className=\"col-md-4\">{this.state.totEncaiss}</th>\r\n                                                                    <th style={{ textAlign: 'center' }} className=\"col-md-2\"><i style={{ color: '#008000', fontSize: '20px' }} class=\"fas fa-sign-in-alt\"></i></th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                        </table>\r\n                                                    </Collapsible>\r\n                                                </div>\r\n                                                <div style={{ width: '45%' }}>\r\n                                                    <Collapsible trigger={<div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}><button style={{ backgroundColor: '#D9534F', borderRadius: '5px' }}><i style={{ color: 'white' }} className=\"fas fa-info\"></i></button><h2>Decaissement</h2></div>}>\r\n                                                        <table style={{ marginTop: '10px' }} className=\"table table-bordered\">\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th className=\"col-md-6\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Date</th>\r\n                                                                    <th className=\"col-md-4\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Montant</th>\r\n                                                                    <th className=\"col-md-2\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Mode</th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                            {this.state.arrayDecaiss.map(el =>\r\n                                                                <tbody>\r\n                                                                    <tr>\r\n                                                                        <td className=\"col-md-6\" style={{ textAlign: 'center' }}>{el.date}</td>\r\n                                                                        <td className=\"col-md-4\" style={{ textAlign: 'center' }}>{el.montant}</td>\r\n                                                                        <td className=\"col-md-2\" style={{ textAlign: 'center' }}>{el.mode}</td>\r\n                                                                    </tr>\r\n                                                                </tbody>\r\n                                                            )}\r\n                                                        </table>\r\n                                                        <table className=\"table table-bordered\">\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th className=\"col-md-6\" style={{ textAlign: 'center', fontWeight: 'bold', backgroundColor: '#f2f2f2' }}>Montant total decaissement</th>\r\n                                                                    <th style={{ textAlign: 'center', backgroundColor: '#f2f2f2' }} className=\"col-md-4\">{this.state.totDecaiss}</th>\r\n                                                                    <th style={{ textAlign: 'center' }} className=\"col-md-2\"><i style={{ color: '#CD5C5C', fontSize: '20px' }} class=\"fas fa-sign-out-alt\"></i></th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                        </table>\r\n                                                    </Collapsible>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}><div><i style={{ color: '#6495ED', fontSize: '20px' }} class=\"fas fa-cash-register\"></i></div><div style={{ padding: '5px' }}><h4 style={{ textAlign: 'center' }}>{'Caisse de ' + this.state.selectedUser.label + ' = ' + this.state.totReste}</h4></div></div>\r\n                                        </Fragment>\r\n                                    ) : (\r\n                                            null\r\n                                        )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\nexport default withRouter(CaisseUser);"]},"metadata":{},"sourceType":"module"}