{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp\\\\www\\\\Projet_snaii_DEV\\\\snaii\\\\src\\\\UpdService.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport jQuery from 'jquery';\nimport { withRouter } from 'react-router-dom';\n\nclass UpdService extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nomService: '',\n      imgService: '',\n      tarif: ''\n    };\n    this.modifNomService = this.modifNomService.bind(this);\n    this.modfiTarif = this.modfiTarif.bind(this);\n    this.modif = this.modif.bind(this);\n  }\n\n  componentDidMount() {\n    let id_service = this.props.location.state.id_service;\n    axios.get(process.env.REACT_APP_API_URL + 'Back_snaii/GetServiceById.php?id=' + id_service).then(res => {\n      console.log(res);\n      this.setState({\n        nomService: res.data.nomService\n      });\n      this.setState({\n        pathPhotoService: res.data.pathPhotoService\n      });\n      this.setState({\n        tarif: res.data.tarif\n      });\n    });\n  }\n\n  modifNomService(event) {\n    this.setState({\n      nomService: event.target.value\n    });\n  }\n\n  modifImgService(e) {\n    this.setState({\n      imgService: e.target.files\n    });\n  }\n\n  modfiTarif(event) {\n    this.setState({\n      tarif: event.target.value\n    });\n  }\n\n  modif() {\n    console.log(this.state.nomService);\n    console.log(this.state.imgService);\n    console.log(this.state.tarif); // jQuery.ajax({\n    //     url: process.env.REACT_APP_API_URL + 'Back_snaii/AddService.php',\n    //     type: 'POST',\n    //     data: {\n    //         nomService: this.state.nomService,\n    //         pathImgService: \"images/photos_services/\" + this.state.imgService[0].name,\n    //         tarif: this.state.tarif\n    //     },\n    //     dataType: 'json',\n    //     success: (code_html, statut) => {\n    //         if (code_html.Result == \"OK\") {\n    //             alert(\"Félicitation la modification des informations du nouveau service a été effectuée avec succès !\");\n    //             // document.location = \"/Services\";\n    //             this.props.history.push('/Services');\n    //         }\n    //         else if (code_html.Result == \"KO\") {\n    //             alert(\"erreur,l'un de vos champs est vide!!\");\n    //         }\n    //     }\n    // });\n    // let files = this.state.imgService;\n    // console.warn('data files', files)\n    // let reader = new FileReader();\n    // reader.readAsDataURL(files[0])\n    // reader.onload = (e) => {\n    //     console.log(e)\n    //     jQuery.ajax({\n    //         url: process.env.REACT_APP_API_URL + 'Back_snaii/UploadPhotoService.php',\n    //         type: 'POST',\n    //         data: {\n    //             file: e.target.result,\n    //             nomfile: this.state.imgService[0].name\n    //         },\n    //         dataType: 'json',\n    //         success: function (code_html, statut) {\n    //         }\n    //     }\n    //     )\n    // }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"page-wrapper\",\n      style: {\n        minHeight: '263px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row bg-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Ajout Services\"))), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Nom service\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      value: this.state.nomService,\n      onChange: this.modifNomService.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Photo service (png/jpg/jpeg/gif) \"), React.createElement(\"input\", {\n      type: \"file\",\n      class: \"form-control\",\n      name: \"file\",\n      onChange: e => this.modifImgService(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Tarif\"), React.createElement(\"input\", {\n      type: \"number\",\n      class: \"form-control\",\n      value: this.state.tarif,\n      onChange: this.modifTarif.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginBottom: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        width: '15%'\n      },\n      type: \"button\",\n      className: \"btn btn-success\",\n      onClick: this.modif.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Confirmer\"))));\n  }\n\n}\n\nexport default withRouter(UpdService);","map":{"version":3,"sources":["C:/wamp/www/Projet_snaii_DEV/snaii/src/UpdService.js"],"names":["React","Component","axios","jQuery","withRouter","UpdService","constructor","props","state","nomService","imgService","tarif","modifNomService","bind","modfiTarif","modif","componentDidMount","id_service","location","get","process","env","REACT_APP_API_URL","then","res","console","log","setState","data","pathPhotoService","event","target","value","modifImgService","e","files","render","minHeight","modifTarif","display","justifyContent","marginBottom","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport jQuery from 'jquery'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass UpdService extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            nomService: '',\r\n            imgService: '',\r\n            tarif: '',\r\n        }\r\n        this.modifNomService = this.modifNomService.bind(this);\r\n        this.modfiTarif = this.modfiTarif.bind(this);\r\n        this.modif = this.modif.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        let id_service = this.props.location.state.id_service;\r\n        axios.get(process.env.REACT_APP_API_URL + 'Back_snaii/GetServiceById.php?id=' + id_service).then(res => {\r\n            console.log(res)\r\n            this.setState({ nomService: res.data.nomService })\r\n            this.setState({ pathPhotoService: res.data.pathPhotoService })\r\n            this.setState({ tarif: res.data.tarif })\r\n        })\r\n    }\r\n\r\n    modifNomService(event) {\r\n        this.setState({\r\n            nomService: event.target.value\r\n        });\r\n    }\r\n\r\n    modifImgService(e) {\r\n        this.setState({ imgService: e.target.files })\r\n    }\r\n\r\n    modfiTarif(event) {\r\n        this.setState({\r\n            tarif: event.target.value\r\n        });\r\n    }\r\n\r\n    modif() {\r\n\r\n        console.log(this.state.nomService)\r\n        console.log(this.state.imgService)\r\n        console.log(this.state.tarif)\r\n\r\n        // jQuery.ajax({\r\n        //     url: process.env.REACT_APP_API_URL + 'Back_snaii/AddService.php',\r\n        //     type: 'POST',\r\n        //     data: {\r\n        //         nomService: this.state.nomService,\r\n        //         pathImgService: \"images/photos_services/\" + this.state.imgService[0].name,\r\n        //         tarif: this.state.tarif\r\n        //     },\r\n        //     dataType: 'json',\r\n        //     success: (code_html, statut) => {\r\n        //         if (code_html.Result == \"OK\") {\r\n        //             alert(\"Félicitation la modification des informations du nouveau service a été effectuée avec succès !\");\r\n        //             // document.location = \"/Services\";\r\n        //             this.props.history.push('/Services');\r\n        //         }\r\n        //         else if (code_html.Result == \"KO\") {\r\n        //             alert(\"erreur,l'un de vos champs est vide!!\");\r\n        //         }\r\n        //     }\r\n        // });\r\n\r\n        // let files = this.state.imgService;\r\n        // console.warn('data files', files)\r\n        // let reader = new FileReader();\r\n        // reader.readAsDataURL(files[0])\r\n        // reader.onload = (e) => {\r\n        //     console.log(e)\r\n        //     jQuery.ajax({\r\n        //         url: process.env.REACT_APP_API_URL + 'Back_snaii/UploadPhotoService.php',\r\n        //         type: 'POST',\r\n        //         data: {\r\n        //             file: e.target.result,\r\n        //             nomfile: this.state.imgService[0].name\r\n        //         },\r\n        //         dataType: 'json',\r\n        //         success: function (code_html, statut) {\r\n        //         }\r\n        //     }\r\n        //     )\r\n        // }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"page-wrapper\" style={{ minHeight: '263px' }}>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row bg-title\">\r\n                        <div className=\"col-lg-12\">\r\n                            <h4 className=\"page-title\">Ajout Services</h4>\r\n                        </div>\r\n                        {/* /.col-lg-12 */}\r\n                    </div>\r\n                    {/* /.row */}\r\n\r\n                    <form>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Nom service</label>\r\n                                    <input type=\"text\" class=\"form-control\" value={this.state.nomService} onChange={this.modifNomService.bind(this)} />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Photo service (png/jpg/jpeg/gif) </label>\r\n                                    <input type=\"file\" class=\"form-control\" name=\"file\" onChange={(e) => this.modifImgService(e)} />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Tarif</label>\r\n                                    <input type=\"number\" class=\"form-control\" value={this.state.tarif} onChange={this.modifTarif.bind(this)} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n\r\n                    <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '10px' }}>\r\n                        <button style={{ width: '15%' }} type=\"button\" className=\"btn btn-success\" onClick={this.modif.bind(this)}>Confirmer</button>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(UpdService);"]},"metadata":{},"sourceType":"module"}