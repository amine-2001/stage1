{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp\\\\www\\\\savoir_plus_prod_nv\\\\mediatraining\\\\src\\\\CaisseUser.js\";\nimport React, { Component, Fragment } from 'react';\nimport axios from 'axios';\nimport jQuery from 'jquery';\nimport { Link, BrowserRouter as Router, Route, Switch, withRouter, HashRouter, Redirect } from 'react-router-dom';\nimport Select from 'react-select';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Slide, Zoom, Flip, Bounce } from 'react-toastify';\nimport Checkbox from 'rc-checkbox';\nimport 'rc-checkbox/assets/index.css';\nimport Collapsible from 'react-collapsible';\n\nclass CaisseUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.selectUser = selectedUser => {\n      if (selectedUser != null) {\n        this.setState({\n          selectedUser: selectedUser\n        }, () => {\n          jQuery.ajax({\n            url: process.env.REACT_APP_API_URL + 'Back_mediatraining/CaisseUser.php',\n            type: 'POST',\n            data: {\n              userId: selectedUser.value,\n              dateDebut: this.state.dateDebut,\n              dateFin: this.state.dateFin\n            },\n            dataType: 'json',\n            success: (code_html, statut) => {\n              this.setState({\n                arrayEncaiss: code_html[0],\n                arrayDecaiss: code_html[1],\n                blockDet: true\n              }, () => {\n                // Montant total encaissement\n                var sommeEncaiss = 0;\n\n                for (var i = 0; i < this.state.arrayEncaiss.length; i++) {\n                  sommeEncaiss += parseFloat(this.state.arrayEncaiss[i].montant);\n                } // Montant total decaissement\n\n\n                var sommeDecaiss = 0;\n\n                for (var j = 0; j < this.state.arrayDecaiss.length; j++) {\n                  sommeDecaiss += parseFloat(this.state.arrayDecaiss[i].montant);\n                }\n\n                var reste = sommeEncaiss - sommeDecaiss;\n                this.setState({\n                  totEncaiss: sommeEncaiss,\n                  totDecaiss: sommeDecaiss,\n                  totReste: reste\n                });\n              });\n            }\n          });\n        });\n      } else {\n        this.setState({\n          arrayEncaiss: [],\n          arrayDecaiss: [],\n          blockDet: false,\n          selectedUser: ''\n        });\n      }\n    };\n\n    this.addDateDebut = d => {\n      this.setState({\n        dateDebut: d\n      });\n    };\n\n    this.addDateFin = d => {\n      this.setState({\n        dateFin: d\n      });\n    };\n\n    this.recherche = () => {\n      if (this.state.selectedUser != '') {\n        // convert date debut\n        if (this.state.dateDebut != \"\") {\n          let dateDebut = this.state.dateDebut;\n          let month = '' + (dateDebut.getMonth() + 1);\n          let day = '' + dateDebut.getDate();\n          let year = dateDebut.getFullYear();\n          if (month.length < 2) month = '0' + month;\n          if (day.length < 2) day = '0' + day;\n          var convertdateDebut = [year, month, day].join('-');\n        } else {\n          var convertdateDebut = \"\";\n        } //\n\n\n        if (this.state.dateFin != \"\") {\n          let dateFin = this.state.dateFin;\n          let month = '' + (dateFin.getMonth() + 1);\n          let day = '' + dateFin.getDate();\n          let year = dateFin.getFullYear();\n          if (month.length < 2) month = '0' + month;\n          if (day.length < 2) day = '0' + day;\n          var convertdateFin = [year, month, day].join('-');\n        } else {\n          var convertdateFin = \"\";\n        } //\n\n\n        jQuery.ajax({\n          url: process.env.REACT_APP_API_URL + 'Back_mediatraining/CaisseUser.php',\n          type: 'POST',\n          data: {\n            userId: this.state.selectedUser.value,\n            dateDebut: convertdateDebut,\n            dateFin: convertdateFin\n          },\n          dataType: 'json',\n          success: (code_html, statut) => {\n            console.log(code_html);\n            this.setState({\n              arrayEncaiss: code_html[0],\n              arrayDecaiss: code_html[1]\n            });\n          }\n        });\n      } else {}\n    };\n\n    this.state = {\n      user: [],\n      selectedUser: '',\n      dateDebut: '',\n      dateFin: '',\n      arrayEncaiss: [],\n      arrayDecaiss: [],\n      totEncaiss: '',\n      totDecaiss: '',\n      totReste: '',\n      blockDet: false\n    };\n  }\n\n  componentDidMount() {\n    if (JSON.parse(localStorage.getItem('userPermissions')) != null) {\n      axios.get(process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectUser.php').then(res => {\n        console.log(res);\n        this.setState({\n          user: res.data\n        });\n      });\n    } else {\n      document.location = '/';\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"page-wrapper\",\n      style: {\n        minHeight: '263px',\n        marginLeft: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row bg-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Caisse utilisateur\"))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"white-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        marginBottom: '10px',\n        marginRight: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \" \", React.createElement(\"button\", {\n      style: {\n        background: '#DC143C',\n        border: '1px solid #DC143C',\n        borderRadius: '5px'\n      },\n      type: \"button\",\n      className: \"btn btn-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \" \", React.createElement(\"i\", {\n      style: {\n        paddingRight: '5px'\n      },\n      className: \"fas fa-arrow-circle-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), \"Retour\"))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Utilisateur\"), React.createElement(Select, {\n      isClearable: true,\n      isSearchable: true,\n      onChange: e => this.selectUser(e),\n      options: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Date debut\"), React.createElement(DatePicker, {\n      class: \"form-control ddate\",\n      style: {\n        border: 'none'\n      },\n      selected: this.state.dateDebut,\n      onChange: this.addDateDebut,\n      dateFormat: \"dd/MM/yyy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Date fin\"), React.createElement(DatePicker, {\n      class: \"form-control ddate\",\n      style: {\n        border: 'none'\n      },\n      selected: this.state.dateFin,\n      onChange: this.addDateFin,\n      dateFormat: \"dd/MM/yyy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        borderRadius: '5px',\n        backgroundColor: '#761C19',\n        borderColor: '#761C19'\n      },\n      type: \"button\",\n      className: \"btn btn-success\",\n      onClick: this.recherche,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Rechercher\")), this.state.blockDet == true ? React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-around'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: '45%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(Collapsible, {\n      trigger: React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          backgroundColor: '#D9534F',\n          borderRadius: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        style: {\n          color: 'white'\n        },\n        className: \"fas fa-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      })), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"Encaissement\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      style: {\n        marginTop: '10px'\n      },\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: \"col-md-6\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"th\", {\n      className: \"col-md-4\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Montant\"), React.createElement(\"th\", {\n      className: \"col-md-2\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"Mode\"))), this.state.arrayEncaiss.map(el => React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"col-md-6\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, el.date), React.createElement(\"td\", {\n      className: \"col-md-4\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, el.montant), React.createElement(\"td\", {\n      className: \"col-md-2\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, el.mode))))), React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: \"col-md-6\",\n      style: {\n        textAlign: 'center',\n        fontWeight: 'bold',\n        backgroundColor: '#f2f2f2'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, \"Montant total encaissement\"), React.createElement(\"th\", {\n      style: {\n        textAlign: 'center',\n        backgroundColor: '#f2f2f2'\n      },\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, this.state.totEncaiss), React.createElement(\"th\", {\n      style: {\n        textAlign: 'center'\n      },\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      style: {\n        color: '#008000'\n      },\n      class: \"fas fa-sign-in-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }))))))), React.createElement(\"div\", {\n      style: {\n        width: '45%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(Collapsible, {\n      trigger: React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          backgroundColor: '#D9534F',\n          borderRadius: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        style: {\n          color: 'white'\n        },\n        className: \"fas fa-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      })), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Decaissement\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      style: {\n        marginTop: '10px'\n      },\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: \"col-md-6\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"th\", {\n      className: \"col-md-4\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, \"Montant\"), React.createElement(\"th\", {\n      className: \"col-md-2\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"Mode\"))), this.state.arrayDecaiss.map(el => React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"col-md-6\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, el.date), React.createElement(\"td\", {\n      className: \"col-md-4\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, el.montant), React.createElement(\"td\", {\n      className: \"col-md-2\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, el.mode))))), React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: \"col-md-6\",\n      style: {\n        textAlign: 'center',\n        fontWeight: 'bold',\n        backgroundColor: '#f2f2f2'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Montant total decaissement\"), React.createElement(\"th\", {\n      style: {\n        textAlign: 'center',\n        backgroundColor: '#f2f2f2'\n      },\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, this.state.totDecaiss), React.createElement(\"th\", {\n      style: {\n        textAlign: 'center'\n      },\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      style: {\n        color: '#CD5C5C'\n      },\n      class: \"fas fa-sign-out-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    })))))))), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      style: {\n        color: '#DFFF00'\n      },\n      class: \"fas fa-cash-register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"Caisse = \")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, this.state.totReste)))) : null))))));\n  }\n\n}\n\nexport default withRouter(CaisseUser);","map":{"version":3,"sources":["C:/wamp/www/savoir_plus_prod_nv/mediatraining/src/CaisseUser.js"],"names":["React","Component","Fragment","axios","jQuery","Link","BrowserRouter","Router","Route","Switch","withRouter","HashRouter","Redirect","Select","DatePicker","Button","Modal","ModalHeader","ModalBody","ModalFooter","ToastContainer","toast","Slide","Zoom","Flip","Bounce","Checkbox","Collapsible","CaisseUser","constructor","props","selectUser","selectedUser","setState","ajax","url","process","env","REACT_APP_API_URL","type","data","userId","value","dateDebut","state","dateFin","dataType","success","code_html","statut","arrayEncaiss","arrayDecaiss","blockDet","sommeEncaiss","i","length","parseFloat","montant","sommeDecaiss","j","reste","totEncaiss","totDecaiss","totReste","addDateDebut","d","addDateFin","recherche","month","getMonth","day","getDate","year","getFullYear","convertdateDebut","join","convertdateFin","console","log","user","componentDidMount","JSON","parse","localStorage","getItem","get","then","res","document","location","render","minHeight","marginLeft","display","justifyContent","alignItems","marginBottom","marginRight","background","border","borderRadius","paddingRight","e","textAlign","backgroundColor","borderColor","width","color","marginTop","fontWeight","map","el","date","mode"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport jQuery from 'jquery'\r\nimport { Link, BrowserRouter as Router, Route, Switch, withRouter, HashRouter, Redirect } from 'react-router-dom'\r\nimport Select from 'react-select';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Slide, Zoom, Flip, Bounce } from 'react-toastify';\r\nimport Checkbox from 'rc-checkbox';\r\nimport 'rc-checkbox/assets/index.css';\r\nimport Collapsible from 'react-collapsible';\r\n\r\nclass CaisseUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: [],\r\n            selectedUser: '',\r\n            dateDebut: '',\r\n            dateFin: '',\r\n            arrayEncaiss: [],\r\n            arrayDecaiss: [],\r\n            totEncaiss: '',\r\n            totDecaiss: '',\r\n            totReste: '',\r\n            blockDet: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (JSON.parse((localStorage.getItem('userPermissions'))) != null) {\r\n            axios.get(process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectUser.php').then(res => {\r\n                console.log(res)\r\n                this.setState({\r\n                    user: res.data\r\n                })\r\n            })\r\n        }\r\n        else {\r\n            document.location = '/'\r\n        }\r\n    }\r\n\r\n    selectUser = (selectedUser) => {\r\n        if (selectedUser != null) {\r\n            this.setState({\r\n                selectedUser: selectedUser\r\n            }, () => {\r\n                jQuery.ajax({\r\n                    url: process.env.REACT_APP_API_URL + 'Back_mediatraining/CaisseUser.php',\r\n                    type: 'POST',\r\n                    data: {\r\n                        userId: selectedUser.value,\r\n                        dateDebut: this.state.dateDebut,\r\n                        dateFin: this.state.dateFin\r\n                    },\r\n                    dataType: 'json',\r\n                    success: (code_html, statut) => {\r\n                        this.setState({\r\n                            arrayEncaiss: code_html[0],\r\n                            arrayDecaiss: code_html[1],\r\n                            blockDet: true\r\n                        }, () => {\r\n                            // Montant total encaissement\r\n                            var sommeEncaiss = 0;\r\n                            for (var i = 0; i < this.state.arrayEncaiss.length; i++) {\r\n                                sommeEncaiss += parseFloat(this.state.arrayEncaiss[i].montant)\r\n                            }\r\n                            // Montant total decaissement\r\n                            var sommeDecaiss = 0;\r\n                            for (var j = 0; j < this.state.arrayDecaiss.length; j++) {\r\n                                sommeDecaiss += parseFloat(this.state.arrayDecaiss[i].montant)\r\n                            }\r\n                            var reste = sommeEncaiss - sommeDecaiss\r\n                            this.setState({\r\n                                totEncaiss: sommeEncaiss,\r\n                                totDecaiss: sommeDecaiss,\r\n                                totReste: reste\r\n                            });\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                arrayEncaiss: [],\r\n                arrayDecaiss: [],\r\n                blockDet: false,\r\n                selectedUser: ''\r\n            });\r\n        }\r\n    }\r\n\r\n    addDateDebut = d => {\r\n        this.setState({\r\n            dateDebut: d\r\n        });\r\n    };\r\n\r\n    addDateFin = d => {\r\n        this.setState({\r\n            dateFin: d\r\n        });\r\n    };\r\n\r\n    recherche = () => {\r\n        if (this.state.selectedUser != '') {\r\n            // convert date debut\r\n            if (this.state.dateDebut != \"\") {\r\n                let dateDebut = this.state.dateDebut\r\n                let month = '' + (dateDebut.getMonth() + 1);\r\n                let day = '' + dateDebut.getDate();\r\n                let year = dateDebut.getFullYear();\r\n                if (month.length < 2)\r\n                    month = '0' + month;\r\n                if (day.length < 2)\r\n                    day = '0' + day;\r\n                var convertdateDebut = [year, month, day].join('-');\r\n            }\r\n            else {\r\n                var convertdateDebut = \"\"\r\n            }\r\n            //\r\n            if (this.state.dateFin != \"\") {\r\n                let dateFin = this.state.dateFin\r\n                let month = '' + (dateFin.getMonth() + 1);\r\n                let day = '' + dateFin.getDate();\r\n                let year = dateFin.getFullYear();\r\n                if (month.length < 2)\r\n                    month = '0' + month;\r\n                if (day.length < 2)\r\n                    day = '0' + day;\r\n                var convertdateFin = [year, month, day].join('-');\r\n            }\r\n            else {\r\n                var convertdateFin = \"\"\r\n            }\r\n            //\r\n            jQuery.ajax({\r\n                url: process.env.REACT_APP_API_URL + 'Back_mediatraining/CaisseUser.php',\r\n                type: 'POST',\r\n                data: {\r\n                    userId: this.state.selectedUser.value,\r\n                    dateDebut: convertdateDebut,\r\n                    dateFin: convertdateFin\r\n                },\r\n                dataType: 'json',\r\n                success: (code_html, statut) => {\r\n                    console.log(code_html)\r\n                    this.setState({\r\n                        arrayEncaiss: code_html[0],\r\n                        arrayDecaiss: code_html[1]\r\n                    });\r\n                }\r\n            }\r\n            )\r\n        }\r\n        else {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"page-wrapper\" style={{ minHeight: '263px', marginLeft: '0px' }}>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row bg-title\">\r\n                        <div className=\"col-lg-12\">\r\n                            <h4 className=\"page-title\">Caisse utilisateur</h4>\r\n                        </div>\r\n                        {/* /.col-lg-12 */}\r\n                    </div>\r\n                    {/* /.row */}\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-12\">\r\n                            <div className=\"white-box\">\r\n                                <div style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center', marginBottom: '10px', marginRight: '20px' }}>\r\n                                    <Link to=\"/Menu\" > <button style={{ background: '#DC143C', border: '1px solid #DC143C', borderRadius: '5px' }} type=\"button\" className=\"btn btn-info\"> <i style={{ paddingRight: '5px' }} className=\"fas fa-arrow-circle-left\"></i>Retour</button></Link>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-4\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Utilisateur</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={(e) => this.selectUser(e)}\r\n                                                options={this.state.user}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Date debut</label>\r\n                                            <DatePicker class=\"form-control ddate\" style={{ border: 'none' }}\r\n                                                selected={this.state.dateDebut}\r\n                                                onChange={this.addDateDebut}\r\n                                                dateFormat=\"dd/MM/yyy\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Date fin</label>\r\n                                            <DatePicker class=\"form-control ddate\" style={{ border: 'none' }}\r\n                                                selected={this.state.dateFin}\r\n                                                onChange={this.addDateFin}\r\n                                                dateFormat=\"dd/MM/yyy\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'center' }}>\r\n                                        <button style={{ borderRadius: '5px', backgroundColor: '#761C19', borderColor: '#761C19' }} type=\"button\" className=\"btn btn-success\" onClick={this.recherche}>Rechercher</button>\r\n                                    </div>\r\n                                    {this.state.blockDet == true ? (\r\n                                        <Fragment>\r\n                                            <div style={{ display: 'flex', justifyContent: 'space-around' }}>\r\n                                                <div style={{ width: '45%' }}>\r\n                                                    <Collapsible trigger={<div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}><button style={{ backgroundColor: '#D9534F', borderRadius: '5px' }}><i style={{ color: 'white' }} className=\"fas fa-info\"></i></button><h2>Encaissement</h2></div>}>\r\n                                                        <table style={{ marginTop: '10px' }} className=\"table table-bordered\">\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th className=\"col-md-6\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Date</th>\r\n                                                                    <th className=\"col-md-4\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Montant</th>\r\n                                                                    <th className=\"col-md-2\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Mode</th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                            {this.state.arrayEncaiss.map(el =>\r\n                                                                <tbody>\r\n                                                                    <tr>\r\n                                                                        <td className=\"col-md-6\" style={{ textAlign: 'center' }}>{el.date}</td>\r\n                                                                        <td className=\"col-md-4\" style={{ textAlign: 'center' }}>{el.montant}</td>\r\n                                                                        <td className=\"col-md-2\" style={{ textAlign: 'center' }}>{el.mode}</td>\r\n                                                                    </tr>\r\n                                                                </tbody>\r\n                                                            )}\r\n                                                        </table>\r\n                                                        <table className=\"table table-bordered\">\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th className=\"col-md-6\" style={{ textAlign: 'center', fontWeight: 'bold', backgroundColor: '#f2f2f2' }}>Montant total encaissement</th>\r\n                                                                    <th style={{ textAlign: 'center', backgroundColor: '#f2f2f2' }} className=\"col-md-4\">{this.state.totEncaiss}</th>\r\n                                                                    <th style={{ textAlign: 'center' }} className=\"col-md-2\"><i style={{ color: '#008000' }} class=\"fas fa-sign-in-alt\"></i></th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                        </table>\r\n                                                    </Collapsible>\r\n                                                </div>\r\n                                                <div style={{ width: '45%' }}>\r\n                                                    <Collapsible trigger={<div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}><button style={{ backgroundColor: '#D9534F', borderRadius: '5px' }}><i style={{ color: 'white' }} className=\"fas fa-info\"></i></button><h2>Decaissement</h2></div>}>\r\n                                                        <table style={{ marginTop: '10px' }} className=\"table table-bordered\">\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th className=\"col-md-6\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Date</th>\r\n                                                                    <th className=\"col-md-4\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Montant</th>\r\n                                                                    <th className=\"col-md-2\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Mode</th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                            {this.state.arrayDecaiss.map(el =>\r\n                                                                <tbody>\r\n                                                                    <tr>\r\n                                                                        <td className=\"col-md-6\" style={{ textAlign: 'center' }}>{el.date}</td>\r\n                                                                        <td className=\"col-md-4\" style={{ textAlign: 'center' }}>{el.montant}</td>\r\n                                                                        <td className=\"col-md-2\" style={{ textAlign: 'center' }}>{el.mode}</td>\r\n                                                                    </tr>\r\n                                                                </tbody>\r\n                                                            )}\r\n                                                        </table>\r\n                                                        <table className=\"table table-bordered\">\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th className=\"col-md-6\" style={{ textAlign: 'center', fontWeight: 'bold', backgroundColor: '#f2f2f2' }}>Montant total decaissement</th>\r\n                                                                    <th style={{ textAlign: 'center', backgroundColor: '#f2f2f2' }} className=\"col-md-4\">{this.state.totDecaiss}</th>\r\n                                                                    <th style={{ textAlign: 'center' }} className=\"col-md-2\"><i style={{ color: '#CD5C5C' }} class=\"fas fa-sign-out-alt\"></i></th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                        </table>\r\n                                                    </Collapsible>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div style={{ display: 'flex',justifyContent:'center',alignItems:'center' }}><div><i style={{ color: '#DFFF00' }} class=\"fas fa-cash-register\"></i></div><div><h4 style={{ textAlign: 'center' }}>Caisse = </h4></div><div><p>{this.state.totReste}</p></div></div>\r\n                                        </Fragment>\r\n                                    ) : (\r\n                                            null\r\n                                        )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\nexport default withRouter(CaisseUser);"]},"metadata":{},"sourceType":"module"}