{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Desktop\\\\new template\\\\myadmin-lite\\\\src\\\\Forms.js\";\nimport React, { Component } from 'react';\nimport SimpleSchema from 'simpl-schema';\nimport { SimpleSchema2Bridge } from 'uniforms-bridge-simple-schema-2';\nimport { AutoForm } from 'uniforms-bootstrap4';\nimport axios from 'axios';\nimport jQuery from 'jquery';\nconst signupSchema = new SimpleSchema({\n  firstName: String,\n  lastName: String,\n  gender: {\n    type: String,\n    allowedValues: [this.state.listgender]\n  },\n  email: {\n    label: 'Email Address',\n    type: String,\n    regEx: SimpleSchema.RegEx.EmailWithTLD\n  },\n  password: {\n    type: String,\n    min: 6,\n    uniforms: {\n      type: 'password'\n    }\n  },\n  confirmPassword: {\n    type: String,\n    uniforms: {\n      type: 'password'\n    },\n\n    custom() {\n      if (this.field('password').value != this.value) {\n        return 'passwordMismatch';\n      }\n    }\n\n  } // Date: Date\n\n});\nsignupSchema.messageBox.messages({\n  en: {\n    \"passwordMismatch\": \"Passwords mismatch\"\n  }\n});\nconst formSignupSchema = new SimpleSchema2Bridge(signupSchema);\n\nclass Forms extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listgender: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost/react/users/getGenders.php').then(res => {\n      console.log(res);\n      this.setState({\n        listgender: res.data\n      });\n    });\n  }\n\n  handleSubmit(user) {\n    // Axios.post('http://localhost/react/users/addUser.php', user).then(() => {\n    //     console.log('hi')\n    //     alert('Success')\n    // }).catch((exception) => {\n    //     alert('Failde: ' + exception.message);\n    // })\n    jQuery.ajax({\n      url: 'http://localhost/react/users/addUser.php',\n      type: 'POST',\n      data: {\n        user: user\n      },\n      dataType: 'json',\n      success: (code_html, statut) => {\n        if (code_html.Result == \"OK\") {\n          alert(\"Félicitation l'ajout du nouveau utilisateur a été effectuée avec succès !\");\n          document.location = \"/Dashbord\";\n        } else if (code_html.Result == \"KO\") {\n          alert(\"erreur,l'un de vos champs est vide!!\");\n        }\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"page-wrapper\",\n      style: {\n        minHeight: '257px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row bg-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Validation Forms\"), React.createElement(\"ol\", {\n      className: \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Dashboard\")), React.createElement(\"li\", {\n      className: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Validation Forms Page\")))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"white-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Form Validation\"), React.createElement(AutoForm, {\n      schema: formSignupSchema,\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default Forms;","map":{"version":3,"sources":["C:/Users/asus/Desktop/new template/myadmin-lite/src/Forms.js"],"names":["React","Component","SimpleSchema","SimpleSchema2Bridge","AutoForm","axios","jQuery","signupSchema","firstName","String","lastName","gender","type","allowedValues","state","listgender","email","label","regEx","RegEx","EmailWithTLD","password","min","uniforms","confirmPassword","custom","field","value","messageBox","messages","en","formSignupSchema","Forms","constructor","props","componentDidMount","get","then","res","console","log","setState","data","handleSubmit","user","ajax","url","dataType","success","code_html","statut","Result","alert","document","location","render","minHeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport SimpleSchema from 'simpl-schema';\r\nimport { SimpleSchema2Bridge } from 'uniforms-bridge-simple-schema-2';\r\nimport { AutoForm } from 'uniforms-bootstrap4';\r\nimport axios from 'axios'\r\nimport jQuery from 'jquery'\r\n\r\n\r\nconst signupSchema = new SimpleSchema({\r\n    firstName: String,\r\n    lastName: String,\r\n    gender: {\r\n        type: String,\r\n        allowedValues: [this.state.listgender]\r\n    },\r\n    email: {\r\n        label: 'Email Address',\r\n        type: String,\r\n        regEx: SimpleSchema.RegEx.EmailWithTLD\r\n    },\r\n    password: {\r\n        type: String,\r\n        min: 6,\r\n        uniforms: {\r\n            type: 'password'\r\n        }\r\n    },\r\n    confirmPassword: {\r\n        type: String,\r\n        uniforms: {\r\n            type: 'password'\r\n        },\r\n        custom() {\r\n            if (this.field('password').value != this.value) {\r\n                return 'passwordMismatch';\r\n            }\r\n        }\r\n    },\r\n    // Date: Date\r\n});\r\n\r\nsignupSchema.messageBox.messages({\r\n    en: {\r\n        \"passwordMismatch\": \"Passwords mismatch\",\r\n    },\r\n});\r\n\r\nconst formSignupSchema = new SimpleSchema2Bridge(signupSchema);\r\n\r\nclass Forms extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listgender: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('http://localhost/react/users/getGenders.php').then(res => {\r\n            console.log(res);\r\n            this.setState({ listgender: res.data });\r\n        });\r\n    }\r\n\r\n    handleSubmit(user) {\r\n        // Axios.post('http://localhost/react/users/addUser.php', user).then(() => {\r\n        //     console.log('hi')\r\n        //     alert('Success')\r\n        // }).catch((exception) => {\r\n        //     alert('Failde: ' + exception.message);\r\n        // })\r\n        jQuery.ajax({\r\n            url: 'http://localhost/react/users/addUser.php',\r\n            type: 'POST',\r\n            data: {\r\n                user: user\r\n            },\r\n            dataType: 'json',\r\n            success: (code_html, statut) => {\r\n                if (code_html.Result == \"OK\") {\r\n                    alert(\"Félicitation l'ajout du nouveau utilisateur a été effectuée avec succès !\");\r\n                    document.location = \"/Dashbord\";\r\n                }\r\n                else if (code_html.Result == \"KO\") {\r\n                    alert(\"erreur,l'un de vos champs est vide!!\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"page-wrapper\" style={{ minHeight: '257px' }}>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row bg-title\">\r\n                        <div className=\"col-lg-12\">\r\n                            <h4 className=\"page-title\">Validation Forms</h4>\r\n                            <ol className=\"breadcrumb\">\r\n                                <li><a href=\"#\">Dashboard</a></li>\r\n                                <li className=\"active\">Validation Forms Page</li>\r\n                            </ol>\r\n                        </div>\r\n                        {/* /.col-lg-12 */}\r\n                    </div>\r\n                    {/* row */}\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-4\">\r\n                            <div className=\"white-box\">\r\n                                <h3>Form Validation</h3>\r\n                                <AutoForm schema={formSignupSchema} onSubmit={this.handleSubmit} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {/* /.row */}\r\n                </div>\r\n                {/* /.container-fluid */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Forms;"]},"metadata":{},"sourceType":"module"}