{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp\\\\www\\\\savoir_plus_prod_nv\\\\mediatraining\\\\src\\\\CaisseUser.js\";\nimport React, { Component, Fragment } from 'react';\nimport axios from 'axios';\nimport jQuery from 'jquery';\nimport { Link, BrowserRouter as Router, Route, Switch, withRouter, HashRouter, Redirect } from 'react-router-dom';\nimport Select from 'react-select';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Slide, Zoom, Flip, Bounce } from 'react-toastify';\nimport Checkbox from 'rc-checkbox';\nimport 'rc-checkbox/assets/index.css';\nimport Collapsible from 'react-collapsible';\n\nclass CaisseUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.selectUser = selectedUser => {\n      if (selectedUser != null) {\n        this.setState({\n          selectedUser: selectedUser\n        }, () => {\n          jQuery.ajax({\n            url: process.env.REACT_APP_API_URL + 'Back_mediatraining/CaisseUser.php',\n            type: 'POST',\n            data: {\n              userId: selectedUser.value,\n              dateDebut: this.state.dateDebut,\n              dateFin: this.state.dateFin\n            },\n            dataType: 'json',\n            success: (code_html, statut) => {\n              this.setState({\n                arrayEncaiss: code_html[0],\n                arrayDecaiss: code_html[1],\n                blockDet: true\n              }, () => {\n                // Montant total encaissement\n                var sommeEncaiss = 0;\n\n                for (var i = 0; i < this.state.arrayEncaiss.length; i++) {\n                  sommeEncaiss += this.state.arrayEncaiss[i].montant;\n                } // Montant total decaissement\n\n\n                var sommeDecaiss = 0;\n\n                for (var j = 0; j < this.state.arrayDecaiss.length; j++) {\n                  sommeDecaiss += this.state.arrayDecaiss[i].montant;\n                }\n              }, () => {\n                this.setState({\n                  totEncaiss: sommeEncaiss,\n                  totDecaiss: sommeDecaiss\n                });\n              });\n            }\n          });\n        });\n      } else {\n        this.setState({\n          arrayEncaiss: [],\n          arrayDecaiss: [],\n          blockDet: false,\n          selectedUser: ''\n        });\n      }\n    };\n\n    this.addDateDebut = d => {\n      this.setState({\n        dateDebut: d\n      });\n    };\n\n    this.addDateFin = d => {\n      this.setState({\n        dateFin: d\n      });\n    };\n\n    this.recherche = () => {\n      if (this.state.selectedUser != '') {\n        // convert date debut\n        if (this.state.dateDebut != \"\") {\n          let dateDebut = this.state.dateDebut;\n          let month = '' + (dateDebut.getMonth() + 1);\n          let day = '' + dateDebut.getDate();\n          let year = dateDebut.getFullYear();\n          if (month.length < 2) month = '0' + month;\n          if (day.length < 2) day = '0' + day;\n          var convertdateDebut = [year, month, day].join('-');\n        } else {\n          var convertdateDebut = \"\";\n        } //\n\n\n        if (this.state.dateFin != \"\") {\n          let dateFin = this.state.dateFin;\n          let month = '' + (dateFin.getMonth() + 1);\n          let day = '' + dateFin.getDate();\n          let year = dateFin.getFullYear();\n          if (month.length < 2) month = '0' + month;\n          if (day.length < 2) day = '0' + day;\n          var convertdateFin = [year, month, day].join('-');\n        } else {\n          var convertdateFin = \"\";\n        } //\n\n\n        jQuery.ajax({\n          url: process.env.REACT_APP_API_URL + 'Back_mediatraining/CaisseUser.php',\n          type: 'POST',\n          data: {\n            userId: this.state.selectedUser.value,\n            dateDebut: convertdateDebut,\n            dateFin: convertdateFin\n          },\n          dataType: 'json',\n          success: (code_html, statut) => {\n            console.log(code_html);\n            this.setState({\n              arrayEncaiss: code_html[0],\n              arrayDecaiss: code_html[1]\n            });\n          }\n        });\n      } else {}\n    };\n\n    this.state = {\n      user: [],\n      selectedUser: '',\n      dateDebut: '',\n      dateFin: '',\n      arrayEncaiss: [],\n      arrayDecaiss: [],\n      totEncaiss: '',\n      totDecaiss: '',\n      blockDet: false\n    };\n  }\n\n  componentDidMount() {\n    if (JSON.parse(localStorage.getItem('userPermissions')) != null) {\n      axios.get(process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectUser.php').then(res => {\n        console.log(res);\n        this.setState({\n          user: res.data\n        });\n      });\n    } else {\n      document.location = '/';\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"page-wrapper\",\n      style: {\n        minHeight: '263px',\n        marginLeft: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row bg-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Caisse utilisateur\"))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"white-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        marginBottom: '10px',\n        marginRight: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \" \", React.createElement(\"button\", {\n      style: {\n        background: '#DC143C',\n        border: '1px solid #DC143C',\n        borderRadius: '5px'\n      },\n      type: \"button\",\n      className: \"btn btn-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \" \", React.createElement(\"i\", {\n      style: {\n        paddingRight: '5px'\n      },\n      className: \"fas fa-arrow-circle-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), \"Retour\"))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Utilisateur\"), React.createElement(Select, {\n      isClearable: true,\n      isSearchable: true,\n      onChange: e => this.selectUser(e),\n      options: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Date debut\"), React.createElement(DatePicker, {\n      class: \"form-control ddate\",\n      style: {\n        border: 'none'\n      },\n      selected: this.state.dateDebut,\n      onChange: this.addDateDebut,\n      dateFormat: \"dd/MM/yyy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Date fin\"), React.createElement(DatePicker, {\n      class: \"form-control ddate\",\n      style: {\n        border: 'none'\n      },\n      selected: this.state.dateFin,\n      onChange: this.addDateFin,\n      dateFormat: \"dd/MM/yyy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        borderRadius: '5px',\n        backgroundColor: '#761C19',\n        borderColor: '#761C19'\n      },\n      type: \"button\",\n      className: \"btn btn-success\",\n      onClick: this.recherche,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Rechercher\")), this.state.blockDet == true ? React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-around'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: '45%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(Collapsible, {\n      trigger: React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          backgroundColor: '#D9534F',\n          borderRadius: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        style: {\n          color: 'white'\n        },\n        className: \"fas fa-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      })), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"Encaissement\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      style: {\n        marginTop: '10px'\n      },\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: \"col-md-6\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"th\", {\n      className: \"col-md-4\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Montant\"), React.createElement(\"th\", {\n      className: \"col-md-2\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Mode\"))), this.state.arrayEncaiss.map(el => React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"col-md-6\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, el.date), React.createElement(\"td\", {\n      className: \"col-md-4\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, el.montant), React.createElement(\"td\", {\n      className: \"col-md-2\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, el.mode))))), React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      style: {\n        backgroundColor: '#f2f2f2'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: \"col-md-6\",\n      style: {\n        textAlign: 'center',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Montant total encaissement\"), React.createElement(\"th\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      style: {\n        width: '45%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(Collapsible, {\n      trigger: React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          backgroundColor: '#D9534F',\n          borderRadius: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        style: {\n          color: 'white'\n        },\n        className: \"fas fa-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      })), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, \"Decaissement\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      style: {\n        marginTop: '10px'\n      },\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: \"col-md-6\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"th\", {\n      className: \"col-md-4\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"Montant\"), React.createElement(\"th\", {\n      className: \"col-md-2\",\n      scope: \"col\",\n      style: {\n        textAlign: 'center',\n        color: '#337AB7',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"Mode\"))), this.state.arrayDecaiss.map(el => React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"col-md-6\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, el.date), React.createElement(\"td\", {\n      className: \"col-md-4\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, el.montant), React.createElement(\"td\", {\n      className: \"col-md-2\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, el.mode))))), React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      style: {\n        backgroundColor: '#f2f2f2'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: \"col-md-6\",\n      style: {\n        textAlign: 'center',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Montant total decaissement\"), React.createElement(\"th\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }))))))) : null))))));\n  }\n\n}\n\nexport default withRouter(CaisseUser);","map":{"version":3,"sources":["C:/wamp/www/savoir_plus_prod_nv/mediatraining/src/CaisseUser.js"],"names":["React","Component","Fragment","axios","jQuery","Link","BrowserRouter","Router","Route","Switch","withRouter","HashRouter","Redirect","Select","DatePicker","Button","Modal","ModalHeader","ModalBody","ModalFooter","ToastContainer","toast","Slide","Zoom","Flip","Bounce","Checkbox","Collapsible","CaisseUser","constructor","props","selectUser","selectedUser","setState","ajax","url","process","env","REACT_APP_API_URL","type","data","userId","value","dateDebut","state","dateFin","dataType","success","code_html","statut","arrayEncaiss","arrayDecaiss","blockDet","sommeEncaiss","i","length","montant","sommeDecaiss","j","totEncaiss","totDecaiss","addDateDebut","d","addDateFin","recherche","month","getMonth","day","getDate","year","getFullYear","convertdateDebut","join","convertdateFin","console","log","user","componentDidMount","JSON","parse","localStorage","getItem","get","then","res","document","location","render","minHeight","marginLeft","display","justifyContent","alignItems","marginBottom","marginRight","background","border","borderRadius","paddingRight","e","textAlign","backgroundColor","borderColor","width","color","marginTop","fontWeight","map","el","date","mode"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport jQuery from 'jquery'\r\nimport { Link, BrowserRouter as Router, Route, Switch, withRouter, HashRouter, Redirect } from 'react-router-dom'\r\nimport Select from 'react-select';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Slide, Zoom, Flip, Bounce } from 'react-toastify';\r\nimport Checkbox from 'rc-checkbox';\r\nimport 'rc-checkbox/assets/index.css';\r\nimport Collapsible from 'react-collapsible';\r\n\r\nclass CaisseUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: [],\r\n            selectedUser: '',\r\n            dateDebut: '',\r\n            dateFin: '',\r\n            arrayEncaiss: [],\r\n            arrayDecaiss: [],\r\n            totEncaiss:'',\r\n            totDecaiss:'',\r\n            blockDet: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (JSON.parse((localStorage.getItem('userPermissions'))) != null) {\r\n            axios.get(process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectUser.php').then(res => {\r\n                console.log(res)\r\n                this.setState({\r\n                    user: res.data\r\n                })\r\n            })\r\n        }\r\n        else {\r\n            document.location = '/'\r\n        }\r\n    }\r\n\r\n    selectUser = (selectedUser) => {\r\n        if (selectedUser != null) {\r\n            this.setState({\r\n                selectedUser: selectedUser\r\n            }, () => {\r\n                jQuery.ajax({\r\n                    url: process.env.REACT_APP_API_URL + 'Back_mediatraining/CaisseUser.php',\r\n                    type: 'POST',\r\n                    data: {\r\n                        userId: selectedUser.value,\r\n                        dateDebut: this.state.dateDebut,\r\n                        dateFin: this.state.dateFin\r\n                    },\r\n                    dataType: 'json',\r\n                    success: (code_html, statut) => {\r\n                        this.setState({\r\n                            arrayEncaiss: code_html[0],\r\n                            arrayDecaiss: code_html[1],\r\n                            blockDet: true\r\n                        }, () => {\r\n                            // Montant total encaissement\r\n                            var sommeEncaiss = 0; \r\n                            for (var i = 0; i < this.state.arrayEncaiss.length; i++) {\r\n                                sommeEncaiss += this.state.arrayEncaiss[i].montant\r\n                            }\r\n                            // Montant total decaissement\r\n                            var sommeDecaiss = 0;\r\n                            for (var j = 0; j < this.state.arrayDecaiss.length; j++) {\r\n                                sommeDecaiss += this.state.arrayDecaiss[i].montant\r\n                            }\r\n                        },()=>{\r\n                            this.setState({\r\n                                totEncaiss:sommeEncaiss,\r\n                                totDecaiss:sommeDecaiss\r\n                            });\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                arrayEncaiss: [],\r\n                arrayDecaiss: [],\r\n                blockDet: false,\r\n                selectedUser: ''\r\n            });\r\n        }\r\n    }\r\n\r\n    addDateDebut = d => {\r\n        this.setState({\r\n            dateDebut: d\r\n        });\r\n    };\r\n\r\n    addDateFin = d => {\r\n        this.setState({\r\n            dateFin: d\r\n        });\r\n    };\r\n\r\n    recherche = () => {\r\n        if (this.state.selectedUser != '') {\r\n            // convert date debut\r\n            if (this.state.dateDebut != \"\") {\r\n                let dateDebut = this.state.dateDebut\r\n                let month = '' + (dateDebut.getMonth() + 1);\r\n                let day = '' + dateDebut.getDate();\r\n                let year = dateDebut.getFullYear();\r\n                if (month.length < 2)\r\n                    month = '0' + month;\r\n                if (day.length < 2)\r\n                    day = '0' + day;\r\n                var convertdateDebut = [year, month, day].join('-');\r\n            }\r\n            else {\r\n                var convertdateDebut = \"\"\r\n            }\r\n            //\r\n            if (this.state.dateFin != \"\") {\r\n                let dateFin = this.state.dateFin\r\n                let month = '' + (dateFin.getMonth() + 1);\r\n                let day = '' + dateFin.getDate();\r\n                let year = dateFin.getFullYear();\r\n                if (month.length < 2)\r\n                    month = '0' + month;\r\n                if (day.length < 2)\r\n                    day = '0' + day;\r\n                var convertdateFin = [year, month, day].join('-');\r\n            }\r\n            else {\r\n                var convertdateFin = \"\"\r\n            }\r\n            //\r\n            jQuery.ajax({\r\n                url: process.env.REACT_APP_API_URL + 'Back_mediatraining/CaisseUser.php',\r\n                type: 'POST',\r\n                data: {\r\n                    userId: this.state.selectedUser.value,\r\n                    dateDebut: convertdateDebut,\r\n                    dateFin: convertdateFin\r\n                },\r\n                dataType: 'json',\r\n                success: (code_html, statut) => {\r\n                    console.log(code_html)\r\n                    this.setState({\r\n                        arrayEncaiss: code_html[0],\r\n                        arrayDecaiss: code_html[1]\r\n                    });\r\n                }\r\n            }\r\n            )\r\n        }\r\n        else {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"page-wrapper\" style={{ minHeight: '263px', marginLeft: '0px' }}>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row bg-title\">\r\n                        <div className=\"col-lg-12\">\r\n                            <h4 className=\"page-title\">Caisse utilisateur</h4>\r\n                        </div>\r\n                        {/* /.col-lg-12 */}\r\n                    </div>\r\n                    {/* /.row */}\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-12\">\r\n                            <div className=\"white-box\">\r\n                                <div style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center', marginBottom: '10px', marginRight: '20px' }}>\r\n                                    <Link to=\"/Menu\" > <button style={{ background: '#DC143C', border: '1px solid #DC143C', borderRadius: '5px' }} type=\"button\" className=\"btn btn-info\"> <i style={{ paddingRight: '5px' }} className=\"fas fa-arrow-circle-left\"></i>Retour</button></Link>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-4\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Utilisateur</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={(e) => this.selectUser(e)}\r\n                                                options={this.state.user}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Date debut</label>\r\n                                            <DatePicker class=\"form-control ddate\" style={{ border: 'none' }}\r\n                                                selected={this.state.dateDebut}\r\n                                                onChange={this.addDateDebut}\r\n                                                dateFormat=\"dd/MM/yyy\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Date fin</label>\r\n                                            <DatePicker class=\"form-control ddate\" style={{ border: 'none' }}\r\n                                                selected={this.state.dateFin}\r\n                                                onChange={this.addDateFin}\r\n                                                dateFormat=\"dd/MM/yyy\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'center' }}>\r\n                                        <button style={{ borderRadius: '5px', backgroundColor: '#761C19', borderColor: '#761C19' }} type=\"button\" className=\"btn btn-success\" onClick={this.recherche}>Rechercher</button>\r\n                                    </div>\r\n                                    {this.state.blockDet == true ? (\r\n                                        <div style={{ display: 'flex', justifyContent: 'space-around' }}>\r\n                                            <div style={{ width: '45%' }}>\r\n                                                <Collapsible trigger={<div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}><button style={{ backgroundColor: '#D9534F', borderRadius: '5px' }}><i style={{ color: 'white' }} className=\"fas fa-info\"></i></button><h2>Encaissement</h2></div>}>\r\n                                                    <table style={{ marginTop: '10px' }} className=\"table table-bordered\">\r\n                                                        <thead>\r\n                                                            <tr>\r\n                                                                <th className=\"col-md-6\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Date</th>\r\n                                                                <th className=\"col-md-4\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Montant</th>\r\n                                                                <th className=\"col-md-2\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Mode</th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                        {this.state.arrayEncaiss.map(el =>\r\n                                                            <tbody>\r\n                                                                <tr>\r\n                                                                    <td className=\"col-md-6\" style={{ textAlign: 'center' }}>{el.date}</td>\r\n                                                                    <td className=\"col-md-4\" style={{ textAlign: 'center' }}>{el.montant}</td>\r\n                                                                    <td className=\"col-md-2\" style={{ textAlign: 'center' }}>{el.mode}</td>\r\n                                                                </tr>\r\n                                                            </tbody>\r\n                                                        )}\r\n                                                    </table>\r\n                                                    <table className=\"table table-bordered\">\r\n                                                        <thead>\r\n                                                            <tr style={{ backgroundColor: '#f2f2f2' }}>\r\n                                                                <th className=\"col-md-6\" style={{ textAlign: 'center', fontWeight: 'bold' }}>Montant total encaissement</th>\r\n                                                                <th className=\"col-md-4\"></th>\r\n                                                                <th className=\"col-md-2\"></th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                    </table>\r\n                                                </Collapsible>\r\n                                            </div>\r\n                                            <div style={{ width: '45%' }}>\r\n                                                <Collapsible trigger={<div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}><button style={{ backgroundColor: '#D9534F', borderRadius: '5px' }}><i style={{ color: 'white' }} className=\"fas fa-info\"></i></button><h2>Decaissement</h2></div>}>\r\n                                                    <table style={{ marginTop: '10px' }} className=\"table table-bordered\">\r\n                                                        <thead>\r\n                                                            <tr>\r\n                                                                <th className=\"col-md-6\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Date</th>\r\n                                                                <th className=\"col-md-4\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Montant</th>\r\n                                                                <th className=\"col-md-2\" scope=\"col\" style={{ textAlign: 'center', color: '#337AB7', fontWeight: 'bold' }}>Mode</th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                        {this.state.arrayDecaiss.map(el =>\r\n                                                            <tbody>\r\n                                                                <tr>\r\n                                                                    <td className=\"col-md-6\" style={{ textAlign: 'center' }}>{el.date}</td>\r\n                                                                    <td className=\"col-md-4\" style={{ textAlign: 'center' }}>{el.montant}</td>\r\n                                                                    <td className=\"col-md-2\" style={{ textAlign: 'center' }}>{el.mode}</td>\r\n                                                                </tr>\r\n                                                            </tbody>\r\n                                                        )}\r\n                                                    </table>\r\n                                                    <table className=\"table table-bordered\">\r\n                                                        <thead>\r\n                                                            <tr style={{ backgroundColor: '#f2f2f2' }}>\r\n                                                                <th className=\"col-md-6\" style={{ textAlign: 'center', fontWeight: 'bold' }}>Montant total decaissement</th>\r\n                                                                <th className=\"col-md-4\"></th>\r\n                                                                <th className=\"col-md-2\"></th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                    </table>\r\n                                                </Collapsible>\r\n                                            </div>\r\n                                        </div>\r\n                                    ) : (\r\n                                            null\r\n                                        )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\nexport default withRouter(CaisseUser);"]},"metadata":{},"sourceType":"module"}