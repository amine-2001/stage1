{"ast":null,"code":"import _toConsumableArray from\"C:\\\\wamp\\\\www\\\\gmt_prod\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\wamp\\\\www\\\\gmt_prod\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\wamp\\\\www\\\\gmt_prod\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\wamp\\\\www\\\\gmt_prod\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\wamp\\\\www\\\\gmt_prod\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\wamp\\\\www\\\\gmt_prod\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import jQuery from'jquery';import{Link,BrowserRouter as Router,Route,Switch,withRouter,HashRouter,Redirect}from'react-router-dom';import Select from'react-select';import{Button,Modal,ModalHeader,ModalBody,ModalFooter}from'reactstrap';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{Slide,Zoom,Flip,Bounce}from'react-toastify';var AjoutNiveau=/*#__PURE__*/function(_Component){_inherits(AjoutNiveau,_Component);function AjoutNiveau(props){var _this;_classCallCheck(this,AjoutNiveau);_this=_possibleConstructorReturn(this,_getPrototypeOf(AjoutNiveau).call(this,props));_this.addFormation=function(selectedFormation){_this.setState({selectedFormation:selectedFormation});console.log(\"Formation selected:\",selectedFormation);};_this.addNomNiveau=function(event){_this.setState({nomNiveau:event.target.value});};_this.addPeriodeNiveau=function(event){_this.setState({periodeNiv:event.target.value});};_this.addMntInitial=function(event){_this.setState({mntInitial:event.target.value});};_this.additionLignFormation=function(){var element={typePayEleve:'',annuelle:[],reduction:[],mensuel:[],tranches2:[],tranches3:[]};_this.setState({niveaux:[].concat(_toConsumableArray(_this.state.niveaux),[element])});};_this.addTypePayEleve=function(selectedTypePayEleve,indexTypePayEleve){if(selectedTypePayEleve!=null){var typePayEleve=selectedTypePayEleve;_this.setState({selectedTypePayEleve:selectedTypePayEleve,niveaux:_this.state.niveaux.map(function(el,id){return id===indexTypePayEleve?Object.assign(el,{typePayEleve:typePayEleve}):el;})},function(){axios.get(process.env.REACT_APP_API_URL+'Back_mediatraining/GetChoix.php?id='+selectedTypePayEleve.value).then(function(res){console.log(res);if(res.data.length===1){var stateCopy=_this.state.tabChoix;stateCopy[indexTypePayEleve]=res.data;_this.setState({tabChoix:stateCopy},function(){console.log(_this.state.tabChoix);var posAnnee=document.getElementsByClassName('posAnnee');console.log(posAnnee.length-1);var indexAnnuel=posAnnee.length-1;var mntInitial=_this.state.mntInitial;var stateCopy=_this.state.tabChoix;stateCopy[indexAnnuel][0].caze[0]=mntInitial;_this.setState({tabChoix:stateCopy});});}else if(res.data.length>0){var stateCopy=_this.state.tabChoix;stateCopy[indexTypePayEleve]=res.data;_this.setState({tabChoix:stateCopy},function(){console.log(_this.state.tabChoix);});}else{var stateCopy=_this.state.tabChoix;stateCopy[indexTypePayEleve]=null;_this.setState({tabChoix:stateCopy},function(){console.log(_this.state.tabChoix);});}});});}};_this.add=function(event,indexLignTab,indice,nomChoix){var include=_this.state.tabChoix[indexLignTab][indice].idSousTypePayEleve;console.log(include);if(include!=undefined){var mntTranche=event.target.value;var stateCopy=_this.state.tabChoix;stateCopy[indexLignTab][indice].caze[indice]=mntTranche;_this.setState({tabChoix:stateCopy},function(){console.log(_this.state.tabChoix);});}else{if(nomChoix==\"Nombre mois\"){var nbrMois=event.target.value;var stateCopy=_this.state.tabChoix;stateCopy[indexLignTab][indice].caze[indice]=nbrMois;_this.setState({tabChoix:stateCopy},function(){var montantInitiale=parseInt(_this.state.mntInitial);var nombreMois=parseInt(_this.state.tabChoix[indexLignTab][indice].caze[indice]);if(montantInitiale>0&&nombreMois>0){var mntInitiale=parseInt(_this.state.mntInitial);var _nbrMois=parseInt(_this.state.tabChoix[indexLignTab][indice].caze[indice]);var mntCalcul=mntInitiale/_nbrMois;var stateCopy=_this.state.tabChoix;stateCopy[indexLignTab][indice+1].caze[indice+1]=mntCalcul;_this.setState({tabChoix:stateCopy});}});}else if(nomChoix==\"Réduction %\"){var pourcentageRed=event.target.value;var stateCopy=_this.state.tabChoix;stateCopy[indexLignTab][indice].caze[indice]=pourcentageRed;_this.setState({tabChoix:stateCopy},function(){var montantInitiale=parseInt(_this.state.mntInitial);var pourcentageReduction=parseInt(_this.state.tabChoix[indexLignTab][indice].caze[indice]);if(montantInitiale>0&&pourcentageReduction>0){var mntInitiale=parseInt(_this.state.mntInitial);var _pourcentageRed=parseInt(_this.state.tabChoix[indexLignTab][indice].caze[indice]);var mntCalcul=mntInitiale-mntInitiale*_pourcentageRed/100;var stateCopy=_this.state.tabChoix;stateCopy[indexLignTab][indice+1].caze[indice+1]=mntCalcul;_this.setState({tabChoix:stateCopy});}});}}};_this.toggleLignFormation=function(indexLignFormation){_this.setState(function(prevState){return{modal:!prevState.modal,indexLignFormationASupprimer:indexLignFormation};});};_this.deleteLignFormation=function(){_this.state.niveaux.splice(_this.state.indexLignFormationASupprimer,1);_this.state.tabChoix.splice(_this.state.indexLignFormationASupprimer,1);_this.setState(function(prevState){return{modal:!prevState.modal};});};_this.nonDeleteLignFormation=function(){_this.setState(function(prevState){return{modal:!prevState.modal};});};_this.ajout=function(){if(_this.state.selectedFormation!=''){var userPermissions=JSON.parse(localStorage.getItem('userPermissions'));var userId=userPermissions[0].idUser;var year=new Date().getFullYear();// recuperer et ranger valeur tableau\nvar cazeTranche3={typePayEleve:'',tranche3:[{tranche:[],idSousTypePayEleve:[]}]};var cazeTranche2={typePayEleve:'',tranche2:[{tranche:[],idSousTypePayEleve:[]}]};var cazeMensuel={typePayEleve:'',nbrMois:'',mntMensuel:''};var cazeReduction={typePayEleve:'',pourcentRed:'',mntRed:''};var cazeAnnuel={typePayEleve:'',mntAnnuel:''};for(var i=0;i<_this.state.niveaux.length;i++){if(_this.state.tabChoix[i].length===3){var tranche3=_this.state.tabChoix[i];for(var j=0;j<tranche3.length;j++){var ligneCaze=tranche3[j];if(j==0){cazeTranche3.tranche3[0].tranche.push(ligneCaze.caze[0]);cazeTranche3.tranche3[0].idSousTypePayEleve.push(ligneCaze.idSousTypePayEleve);console.log(ligneCaze.idSousTypePayEleve[0]);}else if(j==1){cazeTranche3.tranche3[0].tranche.push(ligneCaze.caze[1]);cazeTranche3.tranche3[0].idSousTypePayEleve.push(ligneCaze.idSousTypePayEleve);}else if(j==2){cazeTranche3.tranche3[0].tranche.push(ligneCaze.caze[2]);cazeTranche3.tranche3[0].idSousTypePayEleve.push(ligneCaze.idSousTypePayEleve);}}}else if(_this.state.tabChoix[i].length===2){if(_this.state.tabChoix[i][0].idSousTypePayEleve!=undefined){var tranche2=_this.state.tabChoix[i];for(var j=0;j<tranche2.length;j++){var _ligneCaze=tranche2[j];console.log(_ligneCaze);if(j==0){cazeTranche2.tranche2[0].tranche.push(_ligneCaze.caze[0]);cazeTranche2.tranche2[0].idSousTypePayEleve.push(_ligneCaze.idSousTypePayEleve);}else if(j==1){cazeTranche2.tranche2[0].tranche.push(_ligneCaze.caze[1]);cazeTranche2.tranche2[0].idSousTypePayEleve.push(_ligneCaze.idSousTypePayEleve);}}}else if(_this.state.tabChoix[i][0].choixPay==\"Nombre mois\"||_this.state.tabChoix[i][0].choixPay==\"Montant mensuel\"){var mensuel=_this.state.tabChoix[i];for(var j=0;j<mensuel.length;j++){var _ligneCaze2=mensuel[j];if(j==0){cazeMensuel=Object.assign(cazeMensuel,{nbrMois:_ligneCaze2.caze[0]});}else if(j==1){cazeMensuel=Object.assign(cazeMensuel,{mntMensuel:_ligneCaze2.caze[1]});}}}else if(_this.state.tabChoix[i][0].choixPay==\"Réduction %\"||_this.state.tabChoix[i][0].choixPay==\"Montant réduction\"){var reduction=_this.state.tabChoix[i];for(var j=0;j<reduction.length;j++){var _ligneCaze3=reduction[j];if(j==0){cazeReduction=Object.assign(cazeReduction,{pourcentRed:_ligneCaze3.caze[0]});}else if(j==1){cazeReduction=Object.assign(cazeReduction,{mntRed:_ligneCaze3.caze[1]});}}}}else if(_this.state.tabChoix[i].length===1){var annuel=_this.state.tabChoix[i];for(var j=0;j<annuel.length;j++){var _ligneCaze4=annuel[j];cazeAnnuel=Object.assign(cazeAnnuel,{mntAnnuel:_ligneCaze4.caze[j]});}}}// mettre dans le tableau niveau\nfor(var i=0;i<_this.state.niveaux.length;i++){if(_this.state.niveaux[i].typePayEleve.label==\"Annuel\"){_this.setState({niveaux:_this.state.niveaux.map(function(el,id){return id===i?Object.assign(el,{annuelle:cazeAnnuel}):el;})});}else if(_this.state.niveaux[i].typePayEleve.label==\"Annuel avec réduction\"){_this.setState({niveaux:_this.state.niveaux.map(function(el,id){return id===i?Object.assign(el,{reduction:cazeReduction}):el;})});}else if(_this.state.niveaux[i].typePayEleve.label==\"Mensuelle\"){_this.setState({niveaux:_this.state.niveaux.map(function(el,id){return id===i?Object.assign(el,{mensuel:cazeMensuel}):el;})});}else if(_this.state.niveaux[i].typePayEleve.label==\"2 Tranche\"){_this.setState({niveaux:_this.state.niveaux.map(function(el,id){return id===i?Object.assign(el,{tranches2:[].concat(_toConsumableArray(_this.state.niveaux[0].tranches2),[cazeTranche2])}):el;})});}else if(_this.state.niveaux[i].typePayEleve.label==\"3 Tranches\"){_this.setState({niveaux:_this.state.niveaux.map(function(el,id){return id===i?Object.assign(el,{tranches3:[].concat(_toConsumableArray(_this.state.niveaux[0].tranches3),[cazeTranche3])}):el;})});}}console.log(_this.state.tabChoix);console.log(_this.state.niveaux);jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/AddNiveau.php',type:'POST',data:{formationId:_this.state.selectedFormation.value,nomNiveau:_this.state.nomNiveau,periodeNiv:_this.state.periodeNiv,mntInitial:_this.state.mntInitial,niveaux:_this.state.niveaux,year:year,userId:userId},dataType:'json',success:function success(code_html,statut){if(code_html.Result==\"OK\"){_this.props.history.push('/Niveaux');}else if(code_html.Result==\"KO\"){alert(\"erreur,l'un de vos champs est vide!!\");}}});}else{toast.error('⛔ veuillez verifier le champ formation !!',{containerId:'A'});}};_this.state={formations:[],selectedFormation:'',nomNiveau:'',periodeNiv:'',mntInitial:0,niveaux:[{typePayEleve:'',annuelle:[],reduction:[],mensuel:[],tranches2:[],tranches3:[]}],indexLignFormationASupprimer:'',modal:false,typesPayEleve:[],selectedTypePayEleve:'',checked:false,tabChoix:[],anneeScol:'',anneeScolFut:''};return _this;}_createClass(AjoutNiveau,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(JSON.parse(localStorage.getItem('userPermissions'))!=null){var userPermissions=JSON.parse(localStorage.getItem('userPermissions'));var anneeScolaire=userPermissions[0].anneeScolaire;var anneeScolaireFut=parseInt(anneeScolaire)+1;this.setState({anneeScol:anneeScolaire,anneeScolFut:anneeScolaireFut},function(){_this2.setState({periodeNiv:\"Du 1er Octobre \"+_this2.state.anneeScol+\" jusqu'au 31 juillet \"+_this2.state.anneeScolFut});});jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/SelectFormations.php',type:'POST',data:{anneeScolaire:anneeScolaire},dataType:'json',success:function success(code_html,statut){console.log(code_html);_this2.setState({formations:code_html});}});axios.get(process.env.REACT_APP_API_URL+'Back_mediatraining/SelectTypesPayEleve.php').then(function(res){console.log(res);_this2.setState({typesPayEleve:res.data});});}else{document.location='/';}}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{id:\"page-wrapper\",style:{minHeight:'263px',marginLeft:'0px'}},React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(\"div\",{className:\"row bg-title\"},React.createElement(\"div\",{className:\"col-lg-12\"},React.createElement(\"h4\",{className:\"page-title\"},\"Ajout niveau\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-sm-12\"},React.createElement(\"div\",{className:\"white-box\"},React.createElement(\"div\",{style:{display:'flex',justifyContent:'flex-start',alignItems:'center',marginBottom:'10px',marginRight:'20px'}},React.createElement(Link,{to:\"/Niveaux\"},\" \",React.createElement(\"button\",{style:{background:'#DC143C',border:'1px solid #DC143C',borderRadius:'5px'},type:\"button\",className:\"btn btn-info\"},\" \",React.createElement(\"i\",{style:{paddingRight:'5px'},className:\"fas fa-arrow-circle-left\"}),\"Retour\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Formation\"),React.createElement(Select,{isClearable:true,isSearchable:true,onChange:this.addFormation,options:this.state.formations}))),React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Niveau\"),React.createElement(\"input\",{style:{backgroundColor:'white',borderRadius:'5px',border:'solid 1px #B3B3B3'},type:\"text\",className:\"form-control\",placeholder:\"Niveau\",onChange:this.addNomNiveau}))),React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Obs\\xE9rvation d'attestation (dur\\xE9e formation)\"),React.createElement(\"input\",{style:{backgroundColor:'white',borderRadius:'5px',border:'solid 1px #B3B3B3'},type:\"text\",className:\"form-control\",value:this.state.periodeNiv,onChange:this.addPeriodeNiveau}))),React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Montant initial\"),React.createElement(\"input\",{style:{backgroundColor:'white',borderRadius:'5px',border:'solid 1px #B3B3B3'},type:\"number\",className:\"form-control\",value:this.state.mntInitial,onChange:this.addMntInitial})))),this.state.mntInitial!==0?React.createElement(\"div\",{className:\"row\"},React.createElement(\"table\",{style:{marginTop:'10px'},className:\"table table-bordered\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{style:{textAlign:'center'},scope:\"col\"},\"Type paiement el\\xE8ve\"),React.createElement(\"th\",{style:{textAlign:'center'},scope:\"col\"},\"Montant\"),React.createElement(\"th\",{style:{textAlign:'center'},scope:\"col\"},\"Suppression\"))),this.state.niveaux.map(function(el,index){return React.createElement(\"tbody\",null,React.createElement(\"tr\",null,React.createElement(\"td\",null,React.createElement(Select,{className:\"posAnnee\",value:el.typePaiementEleve,isClearable:true,isSearchable:true,onChange:function onChange(e){return _this3.addTypePayEleve(e,index);},options:_this3.state.typesPayEleve}),\"  \"),React.createElement(\"td\",{style:{textAlign:'center'}},_this3.state.tabChoix[index]==null?null:React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-evenly',marginTop:'-15px'}},_this3.state.tabChoix[index].map(function(el,indice){return React.createElement(\"div\",null,React.createElement(\"p\",null,el.choixPay),React.createElement(\"input\",{className:\"tranche\",type:\"number\",value:el.caze[indice],onChange:function onChange(e){return _this3.add(e,index,indice,el.choixPay);},style:{textAlign:'center',height:'38px',borderRadius:'5px',border:'solid 1px #B3B3B3'}}));}))),React.createElement(\"td\",{style:{textAlign:'center'}},React.createElement(\"button\",{className:\"buttonSupprimer\",onClick:function onClick(){return _this3.toggleLignFormation(index);}},React.createElement(\"i\",{style:{color:'white'},className:\"fas fa-trash-alt\"})))));})),React.createElement(\"div\",{style:{display:'flex',justifyContent:'flex-start',marginLeft:'15px'}},React.createElement(Button,{style:{borderRadius:'5px'},onClick:this.additionLignFormation,color:\"secondary\"},React.createElement(\"i\",{className:\"fas fa-plus-circle\"}),\"Ajouter ligne\"))):null,React.createElement(Modal,{isOpen:this.state.modal,toggle:this.nonDeleteLignFormation,className:this.props.className,fade:false},React.createElement(ModalHeader,{toggle:this.nonDeleteLignFormation},\" \",React.createElement(\"div\",{style:{display:'flex',justifyContent:'center',width:'465px'}},React.createElement(\"img\",{width:\"30%\",src:\"./images/deleteModal.png\",alt:\"..\"}))),React.createElement(ModalBody,null,React.createElement(\"div\",{style:{fontFamily:'Montserrat, sans-serif',FontSize:'14px',FontWeight:'700',LineHeight:'18.375px'}},React.createElement(\"div\",{style:{display:'flex',justifyContent:'center'}},React.createElement(\"p\",null,\"\\xCAtes-Vous s\\xFBr de vouloir supprimer ce niveau ?\")),React.createElement(\"div\",{className:\"hvr-push\",style:{display:'flex',justifyContent:'space-around',marginBottom:'15px'}},React.createElement(\"div\",null,React.createElement(\"button\",{onClick:function onClick(){return _this3.deleteLignFormation();},style:{backgroundColor:'#00FF7F',borderRadius:'5px',color:'white'}},React.createElement(\"i\",{style:{color:'white'},className:\"far fa-thumbs-up\"}),\"Oui\")),React.createElement(\"div\",null,React.createElement(\"button\",{onClick:function onClick(){return _this3.nonDeleteLignFormation();},style:{backgroundColor:'#D9534F',borderRadius:'5px',color:'white'}},React.createElement(\"i\",{style:{color:'white'},className:\"far fa-thumbs-down\"}),\"Non\")))))),React.createElement(\"div\",{style:{display:'flex',justifyContent:'center',marginBottom:'10px'}},React.createElement(\"button\",{style:{borderRadius:'5px'},type:\"button\",className:\"btn btn-success\",onClick:this.ajout},\"Confirmer\"))))),React.createElement(ToastContainer,{transition:Flip,enableMultiContainer:true,containerId:'A',position:toast.POSITION.TOP_RIGHT,autoClose:2500})));}}]);return AjoutNiveau;}(Component);export default withRouter(AjoutNiveau);","map":{"version":3,"sources":["C:/wamp/www/gmt_prod/mediatraining/src/AjoutNiveau.js"],"names":["React","Component","axios","jQuery","Link","BrowserRouter","Router","Route","Switch","withRouter","HashRouter","Redirect","Select","Button","Modal","ModalHeader","ModalBody","ModalFooter","ToastContainer","toast","Slide","Zoom","Flip","Bounce","AjoutNiveau","props","addFormation","selectedFormation","setState","console","log","addNomNiveau","event","nomNiveau","target","value","addPeriodeNiveau","periodeNiv","addMntInitial","mntInitial","additionLignFormation","element","typePayEleve","annuelle","reduction","mensuel","tranches2","tranches3","niveaux","state","addTypePayEleve","selectedTypePayEleve","indexTypePayEleve","map","el","id","Object","assign","get","process","env","REACT_APP_API_URL","then","res","data","length","stateCopy","tabChoix","posAnnee","document","getElementsByClassName","indexAnnuel","caze","add","indexLignTab","indice","nomChoix","include","idSousTypePayEleve","undefined","mntTranche","nbrMois","montantInitiale","parseInt","nombreMois","mntInitiale","mntCalcul","pourcentageRed","pourcentageReduction","toggleLignFormation","indexLignFormation","prevState","modal","indexLignFormationASupprimer","deleteLignFormation","splice","nonDeleteLignFormation","ajout","userPermissions","JSON","parse","localStorage","getItem","userId","idUser","year","Date","getFullYear","cazeTranche3","tranche3","tranche","cazeTranche2","tranche2","cazeMensuel","mntMensuel","cazeReduction","pourcentRed","mntRed","cazeAnnuel","mntAnnuel","i","j","ligneCaze","push","choixPay","annuel","label","ajax","url","type","formationId","dataType","success","code_html","statut","Result","history","alert","error","containerId","formations","typesPayEleve","checked","anneeScol","anneeScolFut","anneeScolaire","anneeScolaireFut","location","minHeight","marginLeft","display","justifyContent","alignItems","marginBottom","marginRight","background","border","borderRadius","paddingRight","backgroundColor","marginTop","textAlign","index","typePaiementEleve","e","height","color","className","width","fontFamily","FontSize","FontWeight","LineHeight","POSITION","TOP_RIGHT"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport jQuery from 'jquery'\r\nimport { Link, BrowserRouter as Router, Route, Switch, withRouter, HashRouter, Redirect } from 'react-router-dom'\r\nimport Select from 'react-select';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Slide, Zoom, Flip, Bounce } from 'react-toastify';\r\n\r\nclass AjoutNiveau extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            formations: [],\r\n            selectedFormation: '',\r\n            nomNiveau: '',\r\n            periodeNiv: '',\r\n            mntInitial: 0,\r\n            niveaux: [{ typePayEleve: '', annuelle: [], reduction: [], mensuel: [], tranches2: [], tranches3: [] }],\r\n            indexLignFormationASupprimer: '',\r\n            modal: false,\r\n            typesPayEleve: [],\r\n            selectedTypePayEleve: '',\r\n            checked: false,\r\n            tabChoix: [],\r\n            anneeScol: '',\r\n            anneeScolFut: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (JSON.parse((localStorage.getItem('userPermissions'))) != null) {\r\n            var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n            var anneeScolaire = userPermissions[0].anneeScolaire\r\n            var anneeScolaireFut = parseInt(anneeScolaire) + 1\r\n            this.setState({\r\n                anneeScol: anneeScolaire,\r\n                anneeScolFut: anneeScolaireFut,\r\n            }, () => {\r\n                this.setState({\r\n                    periodeNiv: \"Du 1er Octobre \" + this.state.anneeScol + \" jusqu'au 31 juillet \" + this.state.anneeScolFut\r\n                });\r\n            });\r\n            jQuery.ajax({\r\n                url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectFormations.php',\r\n                type: 'POST',\r\n                data: {\r\n                    anneeScolaire: anneeScolaire\r\n                },\r\n                dataType: 'json',\r\n                success: (code_html, statut) => {\r\n                    console.log(code_html)\r\n                    this.setState({\r\n                        formations: code_html\r\n                    });\r\n                }\r\n            });\r\n            axios.get(process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectTypesPayEleve.php').then(res => {\r\n                console.log(res)\r\n                this.setState({\r\n                    typesPayEleve: res.data\r\n                })\r\n            })\r\n        }\r\n        else {\r\n            document.location = '/'\r\n        }\r\n    }\r\n\r\n    addFormation = selectedFormation => {\r\n        this.setState({ selectedFormation });\r\n        console.log(`Formation selected:`, selectedFormation);\r\n    };\r\n\r\n    addNomNiveau = (event) => {\r\n        this.setState({\r\n            nomNiveau: event.target.value\r\n        });\r\n    }\r\n\r\n    addPeriodeNiveau = (event) => {\r\n        this.setState({\r\n            periodeNiv: event.target.value\r\n        });\r\n    }\r\n\r\n    addMntInitial = (event) => {\r\n        this.setState({\r\n            mntInitial: event.target.value\r\n        });\r\n    }\r\n\r\n    additionLignFormation = () => {\r\n        let element = { typePayEleve: '', annuelle: [], reduction: [], mensuel: [], tranches2: [], tranches3: [] }\r\n        this.setState({\r\n            niveaux: [...this.state.niveaux, element]\r\n        })\r\n    }\r\n\r\n    addTypePayEleve = (selectedTypePayEleve, indexTypePayEleve) => {\r\n        if (selectedTypePayEleve != null) {\r\n            let typePayEleve = selectedTypePayEleve;\r\n            this.setState({\r\n                selectedTypePayEleve: selectedTypePayEleve,\r\n                niveaux: this.state.niveaux.map((el, id) => (id === indexTypePayEleve ? Object.assign(el, { typePayEleve: typePayEleve }) : el))\r\n            }, () => {\r\n                axios.get(process.env.REACT_APP_API_URL + 'Back_mediatraining/GetChoix.php?id=' + selectedTypePayEleve.value).then(res => {\r\n                    console.log(res)\r\n                    if (res.data.length === 1) {\r\n                        var stateCopy = this.state.tabChoix;\r\n                        stateCopy[indexTypePayEleve] = res.data;\r\n                        this.setState({\r\n                            tabChoix: stateCopy\r\n                        }, () => {\r\n                            console.log(this.state.tabChoix)\r\n                            const posAnnee = document.getElementsByClassName('posAnnee');\r\n                            console.log(posAnnee.length - 1)\r\n                            let indexAnnuel = posAnnee.length - 1\r\n                            let mntInitial = this.state.mntInitial\r\n                            var stateCopy = this.state.tabChoix;\r\n                            stateCopy[indexAnnuel][0].caze[0] = mntInitial;\r\n                            this.setState({\r\n                                tabChoix: stateCopy\r\n                            });\r\n                        })\r\n                    }\r\n                    else if (res.data.length > 0) {\r\n                        var stateCopy = this.state.tabChoix;\r\n                        stateCopy[indexTypePayEleve] = res.data;\r\n                        this.setState({\r\n                            tabChoix: stateCopy\r\n                        }, () => {\r\n                            console.log(this.state.tabChoix)\r\n                        })\r\n                    }\r\n                    else {\r\n                        var stateCopy = this.state.tabChoix;\r\n                        stateCopy[indexTypePayEleve] = null;\r\n                        this.setState({\r\n                            tabChoix: stateCopy\r\n                        }, () => {\r\n                            console.log(this.state.tabChoix)\r\n                        })\r\n                    }\r\n                })\r\n            });\r\n        }\r\n    }\r\n\r\n    add = (event, indexLignTab, indice, nomChoix) => {\r\n        let include = this.state.tabChoix[indexLignTab][indice].idSousTypePayEleve\r\n        console.log(include)\r\n        if (include != undefined) {\r\n            let mntTranche = event.target.value;\r\n            var stateCopy = this.state.tabChoix;\r\n            stateCopy[indexLignTab][indice].caze[indice] = mntTranche;\r\n            this.setState({\r\n                tabChoix: stateCopy\r\n            }, () => {\r\n                console.log(this.state.tabChoix)\r\n            });\r\n        }\r\n        else {\r\n            if (nomChoix == \"Nombre mois\") {\r\n                let nbrMois = event.target.value;\r\n                var stateCopy = this.state.tabChoix;\r\n                stateCopy[indexLignTab][indice].caze[indice] = nbrMois;\r\n                this.setState({\r\n                    tabChoix: stateCopy\r\n                }, () => {\r\n                    let montantInitiale = parseInt(this.state.mntInitial)\r\n                    let nombreMois = parseInt(this.state.tabChoix[indexLignTab][indice].caze[indice])\r\n                    if (montantInitiale > 0 && nombreMois > 0) {\r\n                        let mntInitiale = parseInt(this.state.mntInitial);\r\n                        let nbrMois = parseInt(this.state.tabChoix[indexLignTab][indice].caze[indice])\r\n                        let mntCalcul = mntInitiale / nbrMois\r\n                        var stateCopy = this.state.tabChoix;\r\n                        stateCopy[indexLignTab][indice + 1].caze[indice + 1] = mntCalcul;\r\n                        this.setState({\r\n                            tabChoix: stateCopy\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            else if (nomChoix == \"Réduction %\") {\r\n                let pourcentageRed = event.target.value;\r\n                var stateCopy = this.state.tabChoix;\r\n                stateCopy[indexLignTab][indice].caze[indice] = pourcentageRed;\r\n                this.setState({\r\n                    tabChoix: stateCopy\r\n                }, () => {\r\n                    let montantInitiale = parseInt(this.state.mntInitial)\r\n                    let pourcentageReduction = parseInt(this.state.tabChoix[indexLignTab][indice].caze[indice])\r\n                    if (montantInitiale > 0 && pourcentageReduction > 0) {\r\n                        let mntInitiale = parseInt(this.state.mntInitial);\r\n                        let pourcentageRed = parseInt(this.state.tabChoix[indexLignTab][indice].caze[indice])\r\n                        let mntCalcul = mntInitiale - ((mntInitiale * pourcentageRed) / 100)\r\n                        var stateCopy = this.state.tabChoix;\r\n                        stateCopy[indexLignTab][indice + 1].caze[indice + 1] = mntCalcul;\r\n                        this.setState({\r\n                            tabChoix: stateCopy\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleLignFormation = (indexLignFormation) => {\r\n        this.setState(prevState => ({\r\n            modal: !prevState.modal,\r\n            indexLignFormationASupprimer: indexLignFormation\r\n        }));\r\n    }\r\n\r\n    deleteLignFormation = () => {\r\n        this.state.niveaux.splice(this.state.indexLignFormationASupprimer, 1)\r\n        this.state.tabChoix.splice(this.state.indexLignFormationASupprimer, 1)\r\n        this.setState(prevState => ({\r\n            modal: !prevState.modal\r\n        }));\r\n    }\r\n\r\n    nonDeleteLignFormation = () => {\r\n        this.setState(prevState => ({\r\n            modal: !prevState.modal\r\n        }));\r\n    }\r\n\r\n    ajout = () => {\r\n        if (this.state.selectedFormation != '') {\r\n            var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n            var userId = userPermissions[0].idUser\r\n            let year = new Date().getFullYear();\r\n            // recuperer et ranger valeur tableau\r\n            var cazeTranche3 = { typePayEleve: '', tranche3: [{ tranche: [], idSousTypePayEleve: [] }] }\r\n            var cazeTranche2 = { typePayEleve: '', tranche2: [{ tranche: [], idSousTypePayEleve: [] }] }\r\n            var cazeMensuel = { typePayEleve: '', nbrMois: '', mntMensuel: '' }\r\n            var cazeReduction = { typePayEleve: '', pourcentRed: '', mntRed: '' }\r\n            var cazeAnnuel = { typePayEleve: '', mntAnnuel: '' }\r\n            for (var i = 0; i < this.state.niveaux.length; i++) {\r\n                if (this.state.tabChoix[i].length === 3) {\r\n                    let tranche3 = this.state.tabChoix[i]\r\n                    for (var j = 0; j < tranche3.length; j++) {\r\n                        let ligneCaze = tranche3[j];\r\n                        if (j == 0) {\r\n                            cazeTranche3.tranche3[0].tranche.push(ligneCaze.caze[0])\r\n                            cazeTranche3.tranche3[0].idSousTypePayEleve.push(ligneCaze.idSousTypePayEleve)\r\n                            console.log(ligneCaze.idSousTypePayEleve[0])\r\n                        }\r\n                        else if (j == 1) {\r\n                            cazeTranche3.tranche3[0].tranche.push(ligneCaze.caze[1])\r\n                            cazeTranche3.tranche3[0].idSousTypePayEleve.push(ligneCaze.idSousTypePayEleve)\r\n                        }\r\n                        else if (j == 2) {\r\n                            cazeTranche3.tranche3[0].tranche.push(ligneCaze.caze[2])\r\n                            cazeTranche3.tranche3[0].idSousTypePayEleve.push(ligneCaze.idSousTypePayEleve)\r\n                        }\r\n                    }\r\n                }\r\n                else if (this.state.tabChoix[i].length === 2) {\r\n                    if (this.state.tabChoix[i][0].idSousTypePayEleve != undefined) {\r\n                        let tranche2 = this.state.tabChoix[i]\r\n                        for (var j = 0; j < tranche2.length; j++) {\r\n                            let ligneCaze = tranche2[j]\r\n                            console.log(ligneCaze)\r\n                            if (j == 0) {\r\n                                cazeTranche2.tranche2[0].tranche.push(ligneCaze.caze[0])\r\n                                cazeTranche2.tranche2[0].idSousTypePayEleve.push(ligneCaze.idSousTypePayEleve)\r\n                            }\r\n                            else if (j == 1) {\r\n                                cazeTranche2.tranche2[0].tranche.push(ligneCaze.caze[1])\r\n                                cazeTranche2.tranche2[0].idSousTypePayEleve.push(ligneCaze.idSousTypePayEleve)\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (this.state.tabChoix[i][0].choixPay == \"Nombre mois\" || this.state.tabChoix[i][0].choixPay == \"Montant mensuel\") {\r\n                        let mensuel = this.state.tabChoix[i]\r\n                        for (var j = 0; j < mensuel.length; j++) {\r\n                            let ligneCaze = mensuel[j]\r\n                            if (j == 0) {\r\n                                cazeMensuel = Object.assign(cazeMensuel, { nbrMois: ligneCaze.caze[0] })\r\n                            }\r\n                            else if (j == 1) {\r\n                                cazeMensuel = Object.assign(cazeMensuel, { mntMensuel: ligneCaze.caze[1] })\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (this.state.tabChoix[i][0].choixPay == \"Réduction %\" || this.state.tabChoix[i][0].choixPay == \"Montant réduction\") {\r\n                        let reduction = this.state.tabChoix[i]\r\n                        for (var j = 0; j < reduction.length; j++) {\r\n                            let ligneCaze = reduction[j]\r\n                            if (j == 0) {\r\n                                cazeReduction = Object.assign(cazeReduction, { pourcentRed: ligneCaze.caze[0] })\r\n                            }\r\n                            else if (j == 1) {\r\n                                cazeReduction = Object.assign(cazeReduction, { mntRed: ligneCaze.caze[1] })\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else if (this.state.tabChoix[i].length === 1) {\r\n                    let annuel = this.state.tabChoix[i]\r\n                    for (var j = 0; j < annuel.length; j++) {\r\n                        let ligneCaze = annuel[j]\r\n                        cazeAnnuel = Object.assign(cazeAnnuel, { mntAnnuel: ligneCaze.caze[j] })\r\n                    }\r\n                }\r\n            }\r\n            // mettre dans le tableau niveau\r\n            for (var i = 0; i < this.state.niveaux.length; i++) {\r\n                if (this.state.niveaux[i].typePayEleve.label == \"Annuel\") {\r\n                    this.setState({\r\n                        niveaux: this.state.niveaux.map((el, id) => (id === i ? Object.assign(el, { annuelle: cazeAnnuel }) : el))\r\n                    });\r\n                }\r\n                else if (this.state.niveaux[i].typePayEleve.label == \"Annuel avec réduction\") {\r\n                    this.setState({\r\n                        niveaux: this.state.niveaux.map((el, id) => (id === i ? Object.assign(el, { reduction: cazeReduction }) : el))\r\n                    });\r\n                }\r\n                else if (this.state.niveaux[i].typePayEleve.label == \"Mensuelle\") {\r\n                    this.setState({\r\n                        niveaux: this.state.niveaux.map((el, id) => (id === i ? Object.assign(el, { mensuel: cazeMensuel }) : el))\r\n                    });\r\n                }\r\n                else if (this.state.niveaux[i].typePayEleve.label == \"2 Tranche\") {\r\n                    this.setState({\r\n                        niveaux: this.state.niveaux.map((el, id) => (id === i ? Object.assign(el, { tranches2: [...this.state.niveaux[0].tranches2, cazeTranche2] }) : el))\r\n                    });\r\n                }\r\n                else if (this.state.niveaux[i].typePayEleve.label == \"3 Tranches\") {\r\n                    this.setState({\r\n                        niveaux: this.state.niveaux.map((el, id) => (id === i ? Object.assign(el, { tranches3: [...this.state.niveaux[0].tranches3, cazeTranche3] }) : el))\r\n                    });\r\n                }\r\n            }\r\n            console.log(this.state.tabChoix)\r\n            console.log(this.state.niveaux)\r\n            jQuery.ajax({\r\n                url: process.env.REACT_APP_API_URL + 'Back_mediatraining/AddNiveau.php',\r\n                type: 'POST',\r\n                data: {\r\n                    formationId: this.state.selectedFormation.value,\r\n                    nomNiveau: this.state.nomNiveau,\r\n                    periodeNiv: this.state.periodeNiv,\r\n                    mntInitial: this.state.mntInitial,\r\n                    niveaux: this.state.niveaux,\r\n                    year: year,\r\n                    userId: userId\r\n                },\r\n                dataType: 'json',\r\n                success: (code_html, statut) => {\r\n                    if (code_html.Result == \"OK\") {\r\n                        this.props.history.push('/Niveaux');\r\n                    }\r\n                    else if (code_html.Result == \"KO\") {\r\n                        alert(\"erreur,l'un de vos champs est vide!!\");\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            toast.error('⛔ veuillez verifier le champ formation !!', { containerId: 'A' });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"page-wrapper\" style={{ minHeight: '263px', marginLeft: '0px' }}>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row bg-title\">\r\n                        <div className=\"col-lg-12\">\r\n                            <h4 className=\"page-title\">Ajout niveau</h4>\r\n                        </div>\r\n                        {/* /.col-lg-12 */}\r\n                    </div>\r\n                    {/* /.row */}\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-12\">\r\n                            <div className=\"white-box\">\r\n                                <div style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center', marginBottom: '10px', marginRight: '20px' }}>\r\n                                    <Link to=\"/Niveaux\" > <button style={{ background: '#DC143C', border: '1px solid #DC143C', borderRadius: '5px' }} type=\"button\" className=\"btn btn-info\"> <i style={{ paddingRight: '5px' }} className=\"fas fa-arrow-circle-left\"></i>Retour</button></Link>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Formation</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={this.addFormation}\r\n                                                options={this.state.formations}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Niveau</label>\r\n                                            <input style={{ backgroundColor: 'white', borderRadius: '5px', border: 'solid 1px #B3B3B3' }} type=\"text\" className=\"form-control\" placeholder='Niveau' onChange={this.addNomNiveau} />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Obsérvation d'attestation (durée formation)</label>\r\n                                            <input style={{ backgroundColor: 'white', borderRadius: '5px', border: 'solid 1px #B3B3B3' }} type=\"text\" className=\"form-control\" value={this.state.periodeNiv} onChange={this.addPeriodeNiveau} />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Montant initial</label>\r\n                                            <input style={{ backgroundColor: 'white', borderRadius: '5px', border: 'solid 1px #B3B3B3' }} type=\"number\" className=\"form-control\" value={this.state.mntInitial} onChange={this.addMntInitial} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                {this.state.mntInitial !== 0 ?\r\n                                    (<div className=\"row\">\r\n                                        <table style={{ marginTop: '10px' }} className=\"table table-bordered\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th style={{ textAlign: 'center' }} scope=\"col\">Type paiement elève</th>\r\n                                                    <th style={{ textAlign: 'center' }} scope=\"col\">Montant</th>\r\n                                                    <th style={{ textAlign: 'center' }} scope=\"col\">Suppression</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            {this.state.niveaux.map((el, index) =>\r\n                                                <tbody>\r\n                                                    <tr>\r\n                                                        <td><Select\r\n                                                            className='posAnnee'\r\n                                                            value={el.typePaiementEleve}\r\n                                                            isClearable={true}\r\n                                                            isSearchable={true}\r\n                                                            onChange={(e) => this.addTypePayEleve(e, index)}\r\n                                                            options={this.state.typesPayEleve}\r\n                                                        />  </td>\r\n                                                        <td style={{ textAlign: 'center' }}>{this.state.tabChoix[index] == null ? (null) : (<div style={{ display: 'flex', justifyContent: 'space-evenly', marginTop: '-15px' }}>{this.state.tabChoix[index].map((el, indice) => <div><p>{el.choixPay}</p><input className=\"tranche\" type=\"number\" value={el.caze[indice]} onChange={(e) => this.add(e, index, indice, el.choixPay)} style={{ textAlign: 'center', height: '38px', borderRadius: '5px', border: 'solid 1px #B3B3B3' }} /></div>)}</div>)}</td>\r\n                                                        <td style={{ textAlign: 'center' }}><button className='buttonSupprimer' onClick={() => this.toggleLignFormation(index)}><i style={{ color: 'white' }} className=\"fas fa-trash-alt\"></i></button></td>\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                            )}\r\n                                        </table>\r\n                                        <div style={{ display: 'flex', justifyContent: 'flex-start', marginLeft: '15px' }}>\r\n                                            <Button style={{ borderRadius: '5px' }} onClick={this.additionLignFormation} color=\"secondary\"><i className=\"fas fa-plus-circle\"></i>Ajouter ligne</Button>\r\n                                        </div>\r\n                                    </div>) : (null)}\r\n                                <Modal isOpen={this.state.modal} toggle={this.nonDeleteLignFormation} className={this.props.className} fade={false}>\r\n                                    <ModalHeader toggle={this.nonDeleteLignFormation}> <div style={{ display: 'flex', justifyContent: 'center', width: '465px' }}><img width='30%' src=\"./images/deleteModal.png\" alt=\"..\" /></div></ModalHeader>\r\n                                    <ModalBody>\r\n                                        <div style={{ fontFamily: 'Montserrat, sans-serif', FontSize: '14px', FontWeight: '700', LineHeight: '18.375px' }}>\r\n                                            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                                                <p>Êtes-Vous sûr de vouloir supprimer ce niveau ?</p>\r\n                                            </div>\r\n                                            <div className='hvr-push' style={{ display: 'flex', justifyContent: 'space-around', marginBottom: '15px' }}>\r\n                                                <div><button onClick={() => this.deleteLignFormation()} style={{ backgroundColor: '#00FF7F', borderRadius: '5px', color: 'white' }}><i style={{ color: 'white' }} className=\"far fa-thumbs-up\"></i>Oui</button></div>\r\n                                                <div><button onClick={() => this.nonDeleteLignFormation()} style={{ backgroundColor: '#D9534F', borderRadius: '5px', color: 'white' }}><i style={{ color: 'white' }} className=\"far fa-thumbs-down\"></i>Non</button></div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </ModalBody>\r\n                                </Modal>\r\n                                <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '10px' }}>\r\n                                    <button style={{ borderRadius: '5px' }} type=\"button\" className=\"btn btn-success\" onClick={this.ajout}>Confirmer</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <ToastContainer transition={Flip} enableMultiContainer containerId={'A'} position={toast.POSITION.TOP_RIGHT} autoClose={2500} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(AjoutNiveau);"]},"metadata":{},"sourceType":"module"}