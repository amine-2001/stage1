{"ast":null,"code":"import _classCallCheck from\"C:\\\\wamp\\\\www\\\\Projet_snaii_DEV\\\\snaii\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\wamp\\\\www\\\\Projet_snaii_DEV\\\\snaii\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\wamp\\\\www\\\\Projet_snaii_DEV\\\\snaii\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\wamp\\\\www\\\\Projet_snaii_DEV\\\\snaii\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\wamp\\\\www\\\\Projet_snaii_DEV\\\\snaii\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\wamp\\\\www\\\\Projet_snaii_DEV\\\\snaii\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import jQuery from'jquery';import{withRouter}from'react-router-dom';var AjoutService=/*#__PURE__*/function(_Component){_inherits(AjoutService,_Component);function AjoutService(props){var _this;_classCallCheck(this,AjoutService);_this=_possibleConstructorReturn(this,_getPrototypeOf(AjoutService).call(this,props));_this.state={nomService:'',imgService:'',tarif:''};_this.addNomService=_this.addNomService.bind(_assertThisInitialized(_this));_this.addTarif=_this.addTarif.bind(_assertThisInitialized(_this));_this.ajout=_this.ajout.bind(_assertThisInitialized(_this));return _this;}_createClass(AjoutService,[{key:\"addNomService\",value:function addNomService(event){this.setState({nomService:event.target.value});}},{key:\"addImgService\",value:function addImgService(e){this.setState({imgService:e.target.files});}},{key:\"addTarif\",value:function addTarif(event){this.setState({tarif:event.target.value});}},{key:\"ajout\",value:function ajout(){var _this2=this;console.log(this.state.nomService);console.log(this.state.imgService);console.log(this.state.tarif);jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_snaii/AddService.php',type:'POST',data:{nomService:this.state.nomService,pathImgService:\"images/photos_services/\"+this.state.imgService[0].name,tarif:this.state.tarif},dataType:'json',success:function success(code_html,statut){if(code_html.Result==\"OK\"){// alert(\"Félicitation l'ajout des informations du nouveau service a été effectuée avec succès !\");\n// document.location = \"/Services\";\n_this2.props.history.push('/Services');}else if(code_html.Result==\"KO\"){alert(\"erreur,l'un de vos champs est vide!!\");}}});var files=this.state.imgService;console.warn('data files',files);var reader=new FileReader();reader.readAsDataURL(files[0]);reader.onload=function(e){console.log(e);jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_snaii/UploadPhotoService.php',type:'POST',data:{file:e.target.result,nomfile:_this2.state.imgService[0].name},dataType:'json',success:function success(code_html,statut){}});};}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{id:\"page-wrapper\",style:{minHeight:'263px'}},React.createElement(\"div\",{style:{backgroundColor:'white'},className:\"container-fluid\"},React.createElement(\"div\",{className:\"row bg-title\"},React.createElement(\"div\",{className:\"col-lg-12\"},React.createElement(\"h4\",{className:\"page-title\"},\"Ajout Service\"))),React.createElement(\"form\",null,React.createElement(\"div\",{class:\"row\"},React.createElement(\"div\",{class:\"col-md-6\"},React.createElement(\"div\",{class:\"form-group\"},React.createElement(\"label\",null,\"Nom service\"),React.createElement(\"input\",{type:\"text\",class:\"form-control\",placeholder:\"Nom service\",onChange:this.addNomService.bind(this),style:{borderRadius:'5px'}}))),React.createElement(\"div\",{class:\"col-md-6\"},React.createElement(\"div\",{class:\"form-group\"},React.createElement(\"label\",null,\"Photo service (png/jpg/jpeg/gif) \"),React.createElement(\"input\",{type:\"file\",class:\"form-control\",name:\"file\",onChange:function onChange(e){return _this3.addImgService(e);},style:{borderRadius:'5px'}}))),React.createElement(\"div\",{class:\"col-md-6\"},React.createElement(\"div\",{class:\"form-group\"},React.createElement(\"label\",null,\"Tarif\"),React.createElement(\"input\",{type:\"number\",class:\"form-control\",placeholder:\"Tarif\",onChange:this.addTarif.bind(this),style:{borderRadius:'5px'}}))))),React.createElement(\"div\",{style:{display:'flex',justifyContent:'center',marginBottom:'10px'}},React.createElement(\"button\",{style:{width:'15%',borderRadius:'5px'},type:\"button\",className:\"btn btn-success\",onClick:this.ajout.bind(this)},\"Confirmer\"))));}}]);return AjoutService;}(Component);export default withRouter(AjoutService);","map":{"version":3,"sources":["C:/wamp/www/Projet_snaii_DEV/snaii/src/AjoutService.js"],"names":["React","Component","jQuery","withRouter","AjoutService","props","state","nomService","imgService","tarif","addNomService","bind","addTarif","ajout","event","setState","target","value","e","files","console","log","ajax","url","process","env","REACT_APP_API_URL","type","data","pathImgService","name","dataType","success","code_html","statut","Result","history","push","alert","warn","reader","FileReader","readAsDataURL","onload","file","result","nomfile","minHeight","backgroundColor","borderRadius","addImgService","display","justifyContent","marginBottom","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport jQuery from 'jquery'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass AjoutService extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            nomService: '',\r\n            imgService: '',\r\n            tarif: '',\r\n        }\r\n        this.addNomService = this.addNomService.bind(this);\r\n        this.addTarif = this.addTarif.bind(this);\r\n        this.ajout = this.ajout.bind(this)\r\n    }\r\n\r\n    addNomService(event) {\r\n        this.setState({\r\n            nomService: event.target.value\r\n        });\r\n    }\r\n\r\n    addImgService(e) {\r\n        this.setState({ imgService: e.target.files })\r\n    }\r\n\r\n    addTarif(event) {\r\n        this.setState({\r\n            tarif: event.target.value\r\n        });\r\n    }\r\n\r\n    ajout() {\r\n\r\n        console.log(this.state.nomService)\r\n        console.log(this.state.imgService)\r\n        console.log(this.state.tarif)\r\n\r\n        jQuery.ajax({\r\n            url: process.env.REACT_APP_API_URL + 'Back_snaii/AddService.php',\r\n            type: 'POST',\r\n            data: {\r\n                nomService: this.state.nomService,\r\n                pathImgService: \"images/photos_services/\" + this.state.imgService[0].name,\r\n                tarif: this.state.tarif\r\n            },\r\n            dataType: 'json',\r\n            success: (code_html, statut) => {\r\n                if (code_html.Result == \"OK\") {\r\n                    // alert(\"Félicitation l'ajout des informations du nouveau service a été effectuée avec succès !\");\r\n                    // document.location = \"/Services\";\r\n                    this.props.history.push('/Services');\r\n                }\r\n                else if (code_html.Result == \"KO\") {\r\n                    alert(\"erreur,l'un de vos champs est vide!!\");\r\n                }\r\n            }\r\n        });\r\n\r\n        let files = this.state.imgService;\r\n        console.warn('data files', files)\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(files[0])\r\n        reader.onload = (e) => {\r\n            console.log(e)\r\n            jQuery.ajax({\r\n                url: process.env.REACT_APP_API_URL + 'Back_snaii/UploadPhotoService.php',\r\n                type: 'POST',\r\n                data: {\r\n                    file: e.target.result,\r\n                    nomfile: this.state.imgService[0].name\r\n                },\r\n                dataType: 'json',\r\n                success: function (code_html, statut) {\r\n                }\r\n            }\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"page-wrapper\" style={{ minHeight: '263px' }}>\r\n                <div style={{backgroundColor:'white'}} className=\"container-fluid\">\r\n                    <div className=\"row bg-title\">\r\n                        <div className=\"col-lg-12\">\r\n                            <h4 className=\"page-title\">Ajout Service</h4>\r\n                        </div>\r\n                        {/* /.col-lg-12 */}\r\n                    </div>\r\n                    {/* /.row */}\r\n\r\n                    <form>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Nom service</label>\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Nom service\" onChange={this.addNomService.bind(this)} style={{borderRadius:'5px'}}/>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Photo service (png/jpg/jpeg/gif) </label>\r\n                                    <input type=\"file\" class=\"form-control\" name=\"file\" onChange={(e) => this.addImgService(e)} style={{borderRadius:'5px'}}/>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Tarif</label>\r\n                                    <input type=\"number\" class=\"form-control\" placeholder=\"Tarif\" onChange={this.addTarif.bind(this)} style={{borderRadius:'5px'}}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n\r\n                    <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '10px' }}>\r\n                        <button style={{ width: '15%',borderRadius:'5px' }} type=\"button\" className=\"btn btn-success\" onClick={this.ajout.bind(this)}>Confirmer</button>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(AjoutService);"]},"metadata":{},"sourceType":"module"}