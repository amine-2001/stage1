{"ast":null,"code":"import _classCallCheck from\"C:\\\\wamp\\\\www\\\\savoir_plus_prod\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\wamp\\\\www\\\\savoir_plus_prod\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\wamp\\\\www\\\\savoir_plus_prod\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\wamp\\\\www\\\\savoir_plus_prod\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\wamp\\\\www\\\\savoir_plus_prod\\\\mediatraining\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component,Fragment}from'react';import jQuery from'jquery';import{Link,BrowserRouter as Router,Route,Switch,withRouter,HashRouter,Redirect}from'react-router-dom';import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import Select from'react-select';import Checkbox from'rc-checkbox';import'rc-checkbox/assets/index.css';var AjoutSeanceAbsent=/*#__PURE__*/function(_Component){_inherits(AjoutSeanceAbsent,_Component);function AjoutSeanceAbsent(props){var _this;_classCallCheck(this,AjoutSeanceAbsent);_this=_possibleConstructorReturn(this,_getPrototypeOf(AjoutSeanceAbsent).call(this,props));_this.choixGroupe=function(selectedGroupe){if(selectedGroupe!=null){var userPermissions=JSON.parse(localStorage.getItem('userPermissions'));var anneeScolaire=userPermissions[0].anneeScolaire;_this.setState({selectedGroupe:selectedGroupe},function(){jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/SelectMatiereByGroup.php',type:'POST',data:{groupId:selectedGroupe.value,anneeScolaire:anneeScolaire},dataType:'json',success:function success(code_html,statut){_this.setState({listMatiere:code_html});}});jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/GetEleveByGroup.php',type:'POST',data:{groupId:selectedGroupe.value,anneeScolaire:anneeScolaire},dataType:'json',success:function success(code_html,statut){_this.setState({listEleve:code_html});}});});}};_this.choixMatiere=function(selectedMatiere){if(selectedMatiere!=null){var userPermissions=JSON.parse(localStorage.getItem('userPermissions'));var anneeScolaire=userPermissions[0].anneeScolaire;_this.setState({selectedMatiere:selectedMatiere},function(){jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/SelectEnsByMatiere.php',type:'POST',data:{matiereId:selectedMatiere.value,anneeScolaire:anneeScolaire},dataType:'json',success:function success(code_html,statut){_this.setState({listEnseignant:code_html});}});});}};_this.choixEnseignant=function(selectedEnseignant){if(selectedEnseignant!=null){_this.setState({selectedEnseignant:selectedEnseignant,block:true,blockEleve:true});}};_this.addDateSeance=function(d){_this.setState({dateSeance:d});};_this.addEtatTous=function(e){console.log('Checkbox checked:',e.target.checked);if(e.target.checked==true){_this.setState({blockEleve:false},function(){for(var i=0;i<_this.state.listEleve.length;i++){_this.setState({listEleve:_this.state.listEleve.map(function(el,id){return id===i?Object.assign(el,{etat:0}):el;})});}});}else{_this.setState({blockEleve:true});}};_this.addEtat=function(event,index){if(event.target.checked==true){var etat=1;_this.setState({listEleve:_this.state.listEleve.map(function(el,id){return id===index?Object.assign(el,{etat:etat}):el;})});}else{_this.setState({listEleve:_this.state.listEleve.map(function(el,id){return id===index?Object.assign(el,{etat:0}):el;})});}};_this.addDateDebutSeance=function(d){_this.setState({heureDebut:d});};_this.addDateFinSeance=function(d){_this.setState({heureFin:d});};_this.ajout=function(){var userPermissions=JSON.parse(localStorage.getItem('userPermissions'));var anneeScolaire=userPermissions[0].anneeScolaire;var userId=userPermissions[0].idUser;// convert date seance\nvar dateSeance=_this.state.dateSeance;var month=''+(dateSeance.getMonth()+1);var day=''+dateSeance.getDate();var year=dateSeance.getFullYear();if(month.length<2)month='0'+month;if(day.length<2)day='0'+day;var convertDateSeance=[year,month,day].join('-');// convert heure debut\nvar hd=_this.state.heureDebut.toTimeString();hd=hd.split(' ')[0];// convert heure fin\nvar hf=_this.state.heureFin.toTimeString();hf=hf.split(' ')[0];jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/AddAbsence.php',type:'POST',data:{date:convertDateSeance,hd:hd,hf:hf,groupId:_this.state.selectedGroupe.value,matiereId:_this.state.selectedMatiere.value,ensId:_this.state.selectedEnseignant.value,eleve:_this.state.listEleve,anneeScolaire:anneeScolaire,userId:userId},dataType:'json',success:function success(code_html,statut){if(code_html.Result==\"OK\"){_this.props.history.push('/Absence');}else if(code_html.Result==\"KO\"){alert(\"erreur,l'un de vos champs est vide!!\");}}});};_this.state={listFormation:[],selectedFormation:'',listMatiere:[],selectedMatiere:'',listEnseignant:[],selectedEnseignant:'',listGroupe:[],selectedGroupe:'',dateSeance:new Date(),heureDebut:new Date(),heureFin:new Date(),listEleve:[],block:false,blockEleve:false};return _this;}_createClass(AjoutSeanceAbsent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var userPermissions=JSON.parse(localStorage.getItem('userPermissions'));var anneeScolaire=userPermissions[0].anneeScolaire;jQuery.ajax({url:process.env.REACT_APP_API_URL+'Back_mediatraining/SelectGroupes.php',type:'POST',data:{anneeScolaire:anneeScolaire},dataType:'json',success:function success(code_html,statut){_this2.setState({listGroupe:code_html});}});}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{id:\"page-wrapper\",style:{minHeight:'263px',marginLeft:'0px'}},React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(\"div\",{className:\"row bg-title\"},React.createElement(\"div\",{className:\"col-lg-12\"},React.createElement(\"h4\",{className:\"page-title\"},\"Ajout s\\xE9ance\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-sm-12\"},React.createElement(\"div\",{className:\"white-box\"},React.createElement(\"div\",{style:{display:'flex',justifyContent:'flex-start',alignItems:'center',marginBottom:'10px',marginRight:'20px'}},React.createElement(Link,{to:\"/Absence\"},\" \",React.createElement(\"button\",{style:{background:'#DC143C',border:'1px solid #DC143C',borderRadius:'5px'},type:\"button\",className:\"btn btn-info\"},\" \",React.createElement(\"i\",{style:{paddingRight:'5px'},className:\"fas fa-arrow-circle-left\"}),\"Retour\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Groupe\"),React.createElement(Select,{isClearable:true,isSearchable:true,onChange:this.choixGroupe,options:this.state.listGroupe}))),React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Mati\\xE9re\"),React.createElement(Select,{isClearable:true,isSearchable:true,onChange:this.choixMatiere,options:this.state.listMatiere}))),React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Enseignant\"),React.createElement(Select,{isClearable:true,isSearchable:true,onChange:this.choixEnseignant,options:this.state.listEnseignant}))),React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Date s\\xE9ance\"),React.createElement(DatePicker,{class:\"form-control ddate\",style:{border:'none'},selected:this.state.dateSeance,onChange:this.addDateSeance})))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Depart s\\xE9ance\"),React.createElement(DatePicker,{class:\"form-control ddate\",style:{border:'none'},selected:this.state.heureDebut,onChange:this.addDateDebutSeance,showTimeSelect:true,showTimeSelectOnly:true,timeIntervals:15,timeCaption:\"Time\",dateFormat:\"h:mm aa\"}))),React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Fin s\\xE9ance\"),React.createElement(DatePicker,{class:\"form-control ddate\",style:{border:'none'},selected:this.state.heureFin,onChange:this.addDateFinSeance,showTimeSelect:true,showTimeSelectOnly:true,timeIntervals:15,timeCaption:\"Time\",dateFormat:\"h:mm aa\"})))),this.state.block==true?React.createElement(Fragment,null,this.state.listEleve.length>0?React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{style:{paddingRight:'10px'}},\"Pas d'absence\"),React.createElement(Checkbox,{onChange:function onChange(e){return _this3.addEtatTous(e);},disabled:this.state.disabled}))):null,this.state.blockEleve==true?React.createElement(\"div\",{className:\"row\"},React.createElement(\"table\",{style:{marginTop:'10px'},className:\"table table-bordered\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{style:{textAlign:'center'},scope:\"col\"},\"Prenom\"),React.createElement(\"th\",{style:{textAlign:'center'},scope:\"col\"},\"Nom\"),React.createElement(\"th\",{style:{textAlign:'center'},scope:\"col\"},\"Assiduit\\xE9\"))),this.state.listEleve.map(function(el,index){return React.createElement(\"tbody\",null,React.createElement(\"tr\",null,React.createElement(\"td\",{style:{textAlign:'center'}},React.createElement(\"p\",{style:{textAlign:'center',borderRadius:'5px'}},el.prenom)),React.createElement(\"td\",{style:{textAlign:'center'}},React.createElement(\"p\",{style:{textAlign:'center',borderRadius:'5px'}},el.nom)),React.createElement(\"td\",{style:{textAlign:'center'}},\" \",React.createElement(\"label\",{style:{paddingRight:'10px'}},\" Absent\"),React.createElement(Checkbox,{onChange:function onChange(e){return _this3.addEtat(e,index);},disabled:_this3.state.disabled}))));}))):null):null,React.createElement(\"div\",{style:{display:'flex',justifyContent:'center',marginBottom:'10px',marginTop:'10px'}},React.createElement(\"button\",{style:{borderRadius:'5px'},type:\"button\",className:\"btn btn-success\",onClick:this.ajout},\"Confirmer\")))))));}}]);return AjoutSeanceAbsent;}(Component);export default withRouter(AjoutSeanceAbsent);","map":{"version":3,"sources":["C:/wamp/www/savoir_plus_prod/mediatraining/src/AjoutSeanceAbsent.js"],"names":["React","Component","Fragment","jQuery","Link","BrowserRouter","Router","Route","Switch","withRouter","HashRouter","Redirect","DatePicker","Select","Checkbox","AjoutSeanceAbsent","props","choixGroupe","selectedGroupe","userPermissions","JSON","parse","localStorage","getItem","anneeScolaire","setState","ajax","url","process","env","REACT_APP_API_URL","type","data","groupId","value","dataType","success","code_html","statut","listMatiere","listEleve","choixMatiere","selectedMatiere","matiereId","listEnseignant","choixEnseignant","selectedEnseignant","block","blockEleve","addDateSeance","d","dateSeance","addEtatTous","e","console","log","target","checked","i","state","length","map","el","id","Object","assign","etat","addEtat","event","index","addDateDebutSeance","heureDebut","addDateFinSeance","heureFin","ajout","userId","idUser","month","getMonth","day","getDate","year","getFullYear","convertDateSeance","join","hd","toTimeString","split","hf","date","ensId","eleve","Result","history","push","alert","listFormation","selectedFormation","listGroupe","Date","minHeight","marginLeft","display","justifyContent","alignItems","marginBottom","marginRight","background","border","borderRadius","paddingRight","disabled","marginTop","textAlign","prenom","nom"],"mappings":"g2BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,IAAT,CAAeC,aAAa,GAAIC,CAAAA,MAAhC,CAAwCC,KAAxC,CAA+CC,MAA/C,CAAuDC,UAAvD,CAAmEC,UAAnE,CAA+EC,QAA/E,KAA+F,kBAA/F,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,MAAO,4CAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CACA,MAAO,8BAAP,C,GAEMC,CAAAA,iB,2EACF,2BAAYC,KAAZ,CAAmB,mDACf,mFAAMA,KAAN,GADe,MAsCnBC,WAtCmB,CAsCL,SAAAC,cAAc,CAAI,CAC5B,GAAIA,cAAc,EAAI,IAAtB,CAA4B,CACxB,GAAIC,CAAAA,eAAe,CAAGC,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAZ,CAAtB,CACA,GAAIC,CAAAA,aAAa,CAAGL,eAAe,CAAC,CAAD,CAAf,CAAmBK,aAAvC,CACA,MAAKC,QAAL,CAAc,CAAEP,cAAc,CAAdA,cAAF,CAAd,CAAkC,UAAM,CACpCf,MAAM,CAACuB,IAAP,CAAY,CACRC,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,CAAgC,6CAD7B,CAERC,IAAI,CAAE,MAFE,CAGRC,IAAI,CAAE,CACFC,OAAO,CAAEf,cAAc,CAACgB,KADtB,CAEFV,aAAa,CAAEA,aAFb,CAHE,CAORW,QAAQ,CAAE,MAPF,CAQRC,OAAO,CAAE,iBAACC,SAAD,CAAYC,MAAZ,CAAuB,CAC5B,MAAKb,QAAL,CAAc,CACVc,WAAW,CAAEF,SADH,CAAd,EAGH,CAZO,CAAZ,EAcAlC,MAAM,CAACuB,IAAP,CAAY,CACRC,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,CAAgC,wCAD7B,CAERC,IAAI,CAAE,MAFE,CAGRC,IAAI,CAAE,CACFC,OAAO,CAAEf,cAAc,CAACgB,KADtB,CAEFV,aAAa,CAAEA,aAFb,CAHE,CAORW,QAAQ,CAAE,MAPF,CAQRC,OAAO,CAAE,iBAACC,SAAD,CAAYC,MAAZ,CAAuB,CAC5B,MAAKb,QAAL,CAAc,CACVe,SAAS,CAAEH,SADD,CAAd,EAGH,CAZO,CAAZ,EAcH,CA7BD,EA8BH,CACJ,CAzEkB,OA2EnBI,YA3EmB,CA2EJ,SAAAC,eAAe,CAAI,CAC9B,GAAIA,eAAe,EAAI,IAAvB,CAA6B,CACzB,GAAIvB,CAAAA,eAAe,CAAGC,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAZ,CAAtB,CACA,GAAIC,CAAAA,aAAa,CAAGL,eAAe,CAAC,CAAD,CAAf,CAAmBK,aAAvC,CACA,MAAKC,QAAL,CAAc,CAAEiB,eAAe,CAAfA,eAAF,CAAd,CAAmC,UAAM,CACrCvC,MAAM,CAACuB,IAAP,CAAY,CACRC,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,CAAgC,2CAD7B,CAERC,IAAI,CAAE,MAFE,CAGRC,IAAI,CAAE,CACFW,SAAS,CAAED,eAAe,CAACR,KADzB,CAEFV,aAAa,CAAEA,aAFb,CAHE,CAORW,QAAQ,CAAE,MAPF,CAQRC,OAAO,CAAE,iBAACC,SAAD,CAAYC,MAAZ,CAAuB,CAC5B,MAAKb,QAAL,CAAc,CACVmB,cAAc,CAAEP,SADN,CAAd,EAGH,CAZO,CAAZ,EAcH,CAfD,EAgBH,CACJ,CAhGkB,OAkGnBQ,eAlGmB,CAkGD,SAAAC,kBAAkB,CAAI,CACpC,GAAIA,kBAAkB,EAAI,IAA1B,CAAgC,CAC5B,MAAKrB,QAAL,CAAc,CACVqB,kBAAkB,CAAlBA,kBADU,CAEVC,KAAK,CAAE,IAFG,CAGVC,UAAU,CAAE,IAHF,CAAd,EAKH,CACJ,CA1GkB,OA4GnBC,aA5GmB,CA4GH,SAAAC,CAAC,CAAI,CACjB,MAAKzB,QAAL,CAAc,CACV0B,UAAU,CAAED,CADF,CAAd,EAGH,CAhHkB,OAkHnBE,WAlHmB,CAkHL,SAACC,CAAD,CAAO,CACjBC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAkCF,CAAC,CAACG,MAAF,CAASC,OAA3C,EACA,GAAIJ,CAAC,CAACG,MAAF,CAASC,OAAT,EAAoB,IAAxB,CAA8B,CAC1B,MAAKhC,QAAL,CAAc,CACVuB,UAAU,CAAE,KADF,CAAd,CAEG,UAAM,CACL,IAAK,GAAIU,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,MAAKC,KAAL,CAAWnB,SAAX,CAAqBoB,MAAzC,CAAiDF,CAAC,EAAlD,CAAsD,CAClD,MAAKjC,QAAL,CAAc,CACVe,SAAS,CAAE,MAAKmB,KAAL,CAAWnB,SAAX,CAAqBqB,GAArB,CAAyB,SAACC,EAAD,CAAKC,EAAL,QAAaA,CAAAA,EAAE,GAAKL,CAAP,CAAWM,MAAM,CAACC,MAAP,CAAcH,EAAd,CAAkB,CAAEI,IAAI,CAAE,CAAR,CAAlB,CAAX,CAA4CJ,EAAzD,EAAzB,CADD,CAAd,EAGH,CACJ,CARD,EASH,CAVD,IAWK,CACD,MAAKrC,QAAL,CAAc,CACVuB,UAAU,CAAE,IADF,CAAd,EAGH,CACJ,CApIkB,OAsInBmB,OAtImB,CAsIT,SAACC,KAAD,CAAQC,KAAR,CAAkB,CACxB,GAAID,KAAK,CAACZ,MAAN,CAAaC,OAAb,EAAwB,IAA5B,CAAkC,CAC9B,GAAIS,CAAAA,IAAI,CAAG,CAAX,CACA,MAAKzC,QAAL,CAAc,CACVe,SAAS,CAAE,MAAKmB,KAAL,CAAWnB,SAAX,CAAqBqB,GAArB,CAAyB,SAACC,EAAD,CAAKC,EAAL,QAAaA,CAAAA,EAAE,GAAKM,KAAP,CAAeL,MAAM,CAACC,MAAP,CAAcH,EAAd,CAAkB,CAAEI,IAAI,CAAEA,IAAR,CAAlB,CAAf,CAAmDJ,EAAhE,EAAzB,CADD,CAAd,EAGH,CALD,IAMK,CACD,MAAKrC,QAAL,CAAc,CACVe,SAAS,CAAE,MAAKmB,KAAL,CAAWnB,SAAX,CAAqBqB,GAArB,CAAyB,SAACC,EAAD,CAAKC,EAAL,QAAaA,CAAAA,EAAE,GAAKM,KAAP,CAAeL,MAAM,CAACC,MAAP,CAAcH,EAAd,CAAkB,CAAEI,IAAI,CAAE,CAAR,CAAlB,CAAf,CAAgDJ,EAA7D,EAAzB,CADD,CAAd,EAGH,CACJ,CAlJkB,OAoJnBQ,kBApJmB,CAoJE,SAAApB,CAAC,CAAI,CACtB,MAAKzB,QAAL,CAAc,CACV8C,UAAU,CAAErB,CADF,CAAd,EAGH,CAxJkB,OA0JnBsB,gBA1JmB,CA0JA,SAAAtB,CAAC,CAAI,CACpB,MAAKzB,QAAL,CAAc,CACVgD,QAAQ,CAAEvB,CADA,CAAd,EAGH,CA9JkB,OAgKnBwB,KAhKmB,CAgKX,UAAM,CACV,GAAIvD,CAAAA,eAAe,CAAGC,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAZ,CAAtB,CACA,GAAIC,CAAAA,aAAa,CAAGL,eAAe,CAAC,CAAD,CAAf,CAAmBK,aAAvC,CACA,GAAImD,CAAAA,MAAM,CAAGxD,eAAe,CAAC,CAAD,CAAf,CAAmByD,MAAhC,CACA;AACA,GAAIzB,CAAAA,UAAU,CAAG,MAAKQ,KAAL,CAAWR,UAA5B,CACA,GAAI0B,CAAAA,KAAK,CAAG,IAAM1B,UAAU,CAAC2B,QAAX,GAAwB,CAA9B,CAAZ,CACA,GAAIC,CAAAA,GAAG,CAAG,GAAK5B,UAAU,CAAC6B,OAAX,EAAf,CACA,GAAIC,CAAAA,IAAI,CAAG9B,UAAU,CAAC+B,WAAX,EAAX,CACA,GAAIL,KAAK,CAACjB,MAAN,CAAe,CAAnB,CACIiB,KAAK,CAAG,IAAMA,KAAd,CACJ,GAAIE,GAAG,CAACnB,MAAJ,CAAa,CAAjB,CACImB,GAAG,CAAG,IAAMA,GAAZ,CACJ,GAAII,CAAAA,iBAAiB,CAAG,CAACF,IAAD,CAAOJ,KAAP,CAAcE,GAAd,EAAmBK,IAAnB,CAAwB,GAAxB,CAAxB,CACA;AACA,GAAIC,CAAAA,EAAE,CAAG,MAAK1B,KAAL,CAAWY,UAAX,CAAsBe,YAAtB,EAAT,CACAD,EAAE,CAAGA,EAAE,CAACE,KAAH,CAAS,GAAT,EAAc,CAAd,CAAL,CACA;AACA,GAAIC,CAAAA,EAAE,CAAG,MAAK7B,KAAL,CAAWc,QAAX,CAAoBa,YAApB,EAAT,CACAE,EAAE,CAAGA,EAAE,CAACD,KAAH,CAAS,GAAT,EAAc,CAAd,CAAL,CACApF,MAAM,CAACuB,IAAP,CAAY,CACRC,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,CAAgC,mCAD7B,CAERC,IAAI,CAAE,MAFE,CAGRC,IAAI,CAAE,CACFyD,IAAI,CAAEN,iBADJ,CAEFE,EAAE,CAAEA,EAFF,CAGFG,EAAE,CAAEA,EAHF,CAIFvD,OAAO,CAAE,MAAK0B,KAAL,CAAWzC,cAAX,CAA0BgB,KAJjC,CAKFS,SAAS,CAAE,MAAKgB,KAAL,CAAWjB,eAAX,CAA2BR,KALpC,CAMFwD,KAAK,CAAE,MAAK/B,KAAL,CAAWb,kBAAX,CAA8BZ,KANnC,CAOFyD,KAAK,CAAE,MAAKhC,KAAL,CAAWnB,SAPhB,CAQFhB,aAAa,CAAEA,aARb,CASFmD,MAAM,CAAEA,MATN,CAHE,CAcRxC,QAAQ,CAAE,MAdF,CAeRC,OAAO,CAAE,iBAACC,SAAD,CAAYC,MAAZ,CAAuB,CAC5B,GAAID,SAAS,CAACuD,MAAV,EAAoB,IAAxB,CAA8B,CAC1B,MAAK5E,KAAL,CAAW6E,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EACH,CAFD,IAGK,IAAIzD,SAAS,CAACuD,MAAV,EAAoB,IAAxB,CAA8B,CAC/BG,KAAK,CAAC,sCAAD,CAAL,CACH,CACJ,CAtBO,CAAZ,EAwBH,CA5MkB,CAEf,MAAKpC,KAAL,CAAa,CACTqC,aAAa,CAAE,EADN,CAETC,iBAAiB,CAAE,EAFV,CAGT1D,WAAW,CAAE,EAHJ,CAITG,eAAe,CAAE,EAJR,CAKTE,cAAc,CAAE,EALP,CAMTE,kBAAkB,CAAE,EANX,CAOToD,UAAU,CAAE,EAPH,CAQThF,cAAc,CAAE,EARP,CASTiC,UAAU,CAAE,GAAIgD,CAAAA,IAAJ,EATH,CAUT5B,UAAU,CAAE,GAAI4B,CAAAA,IAAJ,EAVH,CAWT1B,QAAQ,CAAE,GAAI0B,CAAAA,IAAJ,EAXD,CAYT3D,SAAS,CAAE,EAZF,CAaTO,KAAK,CAAE,KAbE,CAcTC,UAAU,CAAE,KAdH,CAAb,CAFe,aAkBlB,C,2FAEmB,iBAChB,GAAI7B,CAAAA,eAAe,CAAGC,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAZ,CAAtB,CACA,GAAIC,CAAAA,aAAa,CAAGL,eAAe,CAAC,CAAD,CAAf,CAAmBK,aAAvC,CACArB,MAAM,CAACuB,IAAP,CAAY,CACRC,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,CAAgC,sCAD7B,CAERC,IAAI,CAAE,MAFE,CAGRC,IAAI,CAAE,CACFR,aAAa,CAAEA,aADb,CAHE,CAMRW,QAAQ,CAAE,MANF,CAORC,OAAO,CAAE,iBAACC,SAAD,CAAYC,MAAZ,CAAuB,CAC5B,MAAI,CAACb,QAAL,CAAc,CACVyE,UAAU,CAAE7D,SADF,CAAd,EAGH,CAXO,CAAZ,EAaH,C,uCA0KQ,iBACL,MACI,4BAAK,EAAE,CAAC,cAAR,CAAuB,KAAK,CAAE,CAAE+D,SAAS,CAAE,OAAb,CAAsBC,UAAU,CAAE,KAAlC,CAA9B,EACI,2BAAK,SAAS,CAAC,iBAAf,EACI,2BAAK,SAAS,CAAC,cAAf,EACI,2BAAK,SAAS,CAAC,WAAf,EACI,0BAAI,SAAS,CAAC,YAAd,oBADJ,CADJ,CADJ,CAQI,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAmBC,cAAc,CAAE,YAAnC,CAAiDC,UAAU,CAAE,QAA7D,CAAuEC,YAAY,CAAE,MAArF,CAA6FC,WAAW,CAAE,MAA1G,CAAZ,EACI,oBAAC,IAAD,EAAM,EAAE,CAAC,UAAT,MAAsB,8BAAQ,KAAK,CAAE,CAAEC,UAAU,CAAE,SAAd,CAAyBC,MAAM,CAAE,mBAAjC,CAAsDC,YAAY,CAAE,KAApE,CAAf,CAA4F,IAAI,CAAC,QAAjG,CAA0G,SAAS,CAAC,cAApH,MAAoI,yBAAG,KAAK,CAAE,CAAEC,YAAY,CAAE,KAAhB,CAAV,CAAmC,SAAS,CAAC,0BAA7C,EAApI,UAAtB,CADJ,CADJ,CAII,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,UAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,0CADJ,CAEI,oBAAC,MAAD,EACI,WAAW,CAAE,IADjB,CAEI,YAAY,CAAE,IAFlB,CAGI,QAAQ,CAAE,KAAK7F,WAHnB,CAII,OAAO,CAAE,KAAK0C,KAAL,CAAWuC,UAJxB,EAFJ,CADJ,CADJ,CAYI,2BAAK,SAAS,CAAC,UAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,8CADJ,CAEI,oBAAC,MAAD,EACI,WAAW,CAAE,IADjB,CAEI,YAAY,CAAE,IAFlB,CAGI,QAAQ,CAAE,KAAKzD,YAHnB,CAII,OAAO,CAAE,KAAKkB,KAAL,CAAWpB,WAJxB,EAFJ,CADJ,CAZJ,CAuBI,2BAAK,SAAS,CAAC,UAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,8CADJ,CAEI,oBAAC,MAAD,EACI,WAAW,CAAE,IADjB,CAEI,YAAY,CAAE,IAFlB,CAGI,QAAQ,CAAE,KAAKM,eAHnB,CAII,OAAO,CAAE,KAAKc,KAAL,CAAWf,cAJxB,EAFJ,CADJ,CAvBJ,CAkCI,2BAAK,SAAS,CAAC,UAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,kDADJ,CAEI,oBAAC,UAAD,EAAY,KAAK,CAAC,oBAAlB,CAAuC,KAAK,CAAE,CAAEgE,MAAM,CAAE,MAAV,CAA9C,CACI,QAAQ,CAAE,KAAKjD,KAAL,CAAWR,UADzB,CAEI,QAAQ,CAAE,KAAKF,aAFnB,EAFJ,CADJ,CAlCJ,CAJJ,CAgDI,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,UAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,oDADJ,CAEI,oBAAC,UAAD,EAAY,KAAK,CAAC,oBAAlB,CAAuC,KAAK,CAAE,CAAE2D,MAAM,CAAE,MAAV,CAA9C,CACI,QAAQ,CAAE,KAAKjD,KAAL,CAAWY,UADzB,CAEI,QAAQ,CAAE,KAAKD,kBAFnB,CAGI,cAAc,KAHlB,CAII,kBAAkB,KAJtB,CAKI,aAAa,CAAE,EALnB,CAMI,WAAW,CAAC,MANhB,CAOI,UAAU,CAAC,SAPf,EAFJ,CADJ,CADJ,CAeI,2BAAK,SAAS,CAAC,UAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,iDADJ,CAEI,oBAAC,UAAD,EAAY,KAAK,CAAC,oBAAlB,CAAuC,KAAK,CAAE,CAAEsC,MAAM,CAAE,MAAV,CAA9C,CACI,QAAQ,CAAE,KAAKjD,KAAL,CAAWc,QADzB,CAEI,QAAQ,CAAE,KAAKD,gBAFnB,CAGI,cAAc,KAHlB,CAII,kBAAkB,KAJtB,CAKI,aAAa,CAAE,EALnB,CAMI,WAAW,CAAC,MANhB,CAOI,UAAU,CAAC,SAPf,EAFJ,CADJ,CAfJ,CAhDJ,CA8EK,KAAKb,KAAL,CAAWZ,KAAX,EAAoB,IAApB,CAEO,oBAAC,QAAD,MACK,KAAKY,KAAL,CAAWnB,SAAX,CAAqBoB,MAArB,CAA8B,CAA9B,CACI,2BAAK,SAAS,CAAC,UAAf,EACG,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,KAAK,CAAE,CAAEkD,YAAY,CAAE,MAAhB,CAAd,kBADJ,CAEI,oBAAC,QAAD,EACI,QAAQ,CAAE,kBAACzD,CAAD,QAAO,CAAA,MAAI,CAACD,WAAL,CAAiBC,CAAjB,CAAP,EADd,CAEI,QAAQ,CAAE,KAAKM,KAAL,CAAWoD,QAFzB,EAFJ,CADH,CADJ,CASc,IAVnB,CAWK,KAAKpD,KAAL,CAAWX,UAAX,EAAyB,IAAzB,CACI,2BAAK,SAAS,CAAC,KAAf,EACG,6BAAO,KAAK,CAAE,CAAEgE,SAAS,CAAE,MAAb,CAAd,CAAqC,SAAS,CAAC,sBAA/C,EACI,iCACI,8BACI,0BAAI,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAX,CAAoC,KAAK,CAAC,KAA1C,WADJ,CAEI,0BAAI,KAAK,CAAE,CAAEA,SAAS,CAAE,QAAb,CAAX,CAAoC,KAAK,CAAC,KAA1C,QAFJ,CAGI,0BAAI,KAAK,CAAE,CAAEA,SAAS,CAAE,QAAb,CAAX,CAAoC,KAAK,CAAC,KAA1C,iBAHJ,CADJ,CADJ,CAQK,KAAKtD,KAAL,CAAWnB,SAAX,CAAqBqB,GAArB,CAAyB,SAACC,EAAD,CAAKO,KAAL,QACtB,kCACI,8BACI,0BAAI,KAAK,CAAE,CAAE4C,SAAS,CAAE,QAAb,CAAX,EAAoC,yBAAG,KAAK,CAAE,CAAEA,SAAS,CAAE,QAAb,CAAuBJ,YAAY,CAAE,KAArC,CAAV,EAAyD/C,EAAE,CAACoD,MAA5D,CAApC,CADJ,CAEI,0BAAI,KAAK,CAAE,CAAED,SAAS,CAAE,QAAb,CAAX,EAAoC,yBAAG,KAAK,CAAE,CAAEA,SAAS,CAAE,QAAb,CAAuBJ,YAAY,CAAE,KAArC,CAAV,EAAyD/C,EAAE,CAACqD,GAA5D,CAApC,CAFJ,CAGI,0BAAI,KAAK,CAAE,CAAEF,SAAS,CAAE,QAAb,CAAX,MAAqC,6BAAO,KAAK,CAAE,CAAEH,YAAY,CAAE,MAAhB,CAAd,YAArC,CACI,oBAAC,QAAD,EACI,QAAQ,CAAE,kBAACzD,CAAD,QAAO,CAAA,MAAI,CAACc,OAAL,CAAad,CAAb,CAAgBgB,KAAhB,CAAP,EADd,CAEI,QAAQ,CAAE,MAAI,CAACV,KAAL,CAAWoD,QAFzB,EADJ,CAHJ,CADJ,CADsB,EAAzB,CARL,CADH,CADJ,CAyBc,IApCnB,CAFP,CAuCuB,IArH5B,CAsHI,2BAAK,KAAK,CAAE,CAAET,OAAO,CAAE,MAAX,CAAmBC,cAAc,CAAE,QAAnC,CAA6CE,YAAY,CAAE,MAA3D,CAAmEO,SAAS,CAAE,MAA9E,CAAZ,EACI,8BAAQ,KAAK,CAAE,CAAEH,YAAY,CAAE,KAAhB,CAAf,CAAwC,IAAI,CAAC,QAA7C,CAAsD,SAAS,CAAC,iBAAhE,CAAkF,OAAO,CAAE,KAAKnC,KAAhG,cADJ,CAtHJ,CADJ,CADJ,CARJ,CADJ,CADJ,CA2IH,C,+BA3V2BzE,S,EA8VhC,cAAeQ,CAAAA,UAAU,CAACM,iBAAD,CAAzB","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport jQuery from 'jquery'\r\nimport { Link, BrowserRouter as Router, Route, Switch, withRouter, HashRouter, Redirect } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Select from 'react-select';\r\nimport Checkbox from 'rc-checkbox';\r\nimport 'rc-checkbox/assets/index.css';\r\n\r\nclass AjoutSeanceAbsent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listFormation: [],\r\n            selectedFormation: '',\r\n            listMatiere: [],\r\n            selectedMatiere: '',\r\n            listEnseignant: [],\r\n            selectedEnseignant: '',\r\n            listGroupe: [],\r\n            selectedGroupe: '',\r\n            dateSeance: new Date(),\r\n            heureDebut: new Date(),\r\n            heureFin: new Date(),\r\n            listEleve: [],\r\n            block: false,\r\n            blockEleve: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n        var anneeScolaire = userPermissions[0].anneeScolaire\r\n        jQuery.ajax({\r\n            url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectGroupes.php',\r\n            type: 'POST',\r\n            data: {\r\n                anneeScolaire: anneeScolaire\r\n            },\r\n            dataType: 'json',\r\n            success: (code_html, statut) => {\r\n                this.setState({\r\n                    listGroupe: code_html\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    choixGroupe = selectedGroupe => {\r\n        if (selectedGroupe != null) {\r\n            var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n            var anneeScolaire = userPermissions[0].anneeScolaire\r\n            this.setState({ selectedGroupe }, () => {\r\n                jQuery.ajax({\r\n                    url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectMatiereByGroup.php',\r\n                    type: 'POST',\r\n                    data: {\r\n                        groupId: selectedGroupe.value,\r\n                        anneeScolaire: anneeScolaire\r\n                    },\r\n                    dataType: 'json',\r\n                    success: (code_html, statut) => {\r\n                        this.setState({\r\n                            listMatiere: code_html\r\n                        });\r\n                    }\r\n                });\r\n                jQuery.ajax({\r\n                    url: process.env.REACT_APP_API_URL + 'Back_mediatraining/GetEleveByGroup.php',\r\n                    type: 'POST',\r\n                    data: {\r\n                        groupId: selectedGroupe.value,\r\n                        anneeScolaire: anneeScolaire\r\n                    },\r\n                    dataType: 'json',\r\n                    success: (code_html, statut) => {\r\n                        this.setState({\r\n                            listEleve: code_html\r\n                        });\r\n                    }\r\n                });\r\n            })\r\n        }\r\n    }\r\n\r\n    choixMatiere = selectedMatiere => {\r\n        if (selectedMatiere != null) {\r\n            var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n            var anneeScolaire = userPermissions[0].anneeScolaire\r\n            this.setState({ selectedMatiere }, () => {\r\n                jQuery.ajax({\r\n                    url: process.env.REACT_APP_API_URL + 'Back_mediatraining/SelectEnsByMatiere.php',\r\n                    type: 'POST',\r\n                    data: {\r\n                        matiereId: selectedMatiere.value,\r\n                        anneeScolaire: anneeScolaire\r\n                    },\r\n                    dataType: 'json',\r\n                    success: (code_html, statut) => {\r\n                        this.setState({\r\n                            listEnseignant: code_html\r\n                        });\r\n                    }\r\n                });\r\n            })\r\n        }\r\n    };\r\n\r\n    choixEnseignant = selectedEnseignant => {\r\n        if (selectedEnseignant != null) {\r\n            this.setState({\r\n                selectedEnseignant,\r\n                block: true,\r\n                blockEleve: true\r\n            })\r\n        }\r\n    };\r\n\r\n    addDateSeance = d => {\r\n        this.setState({\r\n            dateSeance: d\r\n        });\r\n    }\r\n\r\n    addEtatTous = (e) => {\r\n        console.log('Checkbox checked:', (e.target.checked));\r\n        if (e.target.checked == true) {\r\n            this.setState({\r\n                blockEleve: false\r\n            }, () => {\r\n                for (var i = 0; i < this.state.listEleve.length; i++) {\r\n                    this.setState({\r\n                        listEleve: this.state.listEleve.map((el, id) => (id === i ? Object.assign(el, { etat: 0 }) : el))\r\n                    })\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                blockEleve: true\r\n            });\r\n        }\r\n    }\r\n\r\n    addEtat = (event, index) => {\r\n        if (event.target.checked == true) {\r\n            let etat = 1\r\n            this.setState({\r\n                listEleve: this.state.listEleve.map((el, id) => (id === index ? Object.assign(el, { etat: etat }) : el))\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                listEleve: this.state.listEleve.map((el, id) => (id === index ? Object.assign(el, { etat: 0 }) : el))\r\n            })\r\n        }\r\n    }\r\n\r\n    addDateDebutSeance = d => {\r\n        this.setState({\r\n            heureDebut: d\r\n        });\r\n    }\r\n\r\n    addDateFinSeance = d => {\r\n        this.setState({\r\n            heureFin: d\r\n        });\r\n    }\r\n\r\n    ajout = () => {\r\n        var userPermissions = JSON.parse((localStorage.getItem('userPermissions')));\r\n        var anneeScolaire = userPermissions[0].anneeScolaire\r\n        var userId = userPermissions[0].idUser\r\n        // convert date seance\r\n        let dateSeance = this.state.dateSeance\r\n        let month = '' + (dateSeance.getMonth() + 1);\r\n        let day = '' + dateSeance.getDate();\r\n        let year = dateSeance.getFullYear();\r\n        if (month.length < 2)\r\n            month = '0' + month;\r\n        if (day.length < 2)\r\n            day = '0' + day;\r\n        var convertDateSeance = [year, month, day].join('-');\r\n        // convert heure debut\r\n        var hd = this.state.heureDebut.toTimeString();\r\n        hd = hd.split(' ')[0];\r\n        // convert heure fin\r\n        var hf = this.state.heureFin.toTimeString();\r\n        hf = hf.split(' ')[0];\r\n        jQuery.ajax({\r\n            url: process.env.REACT_APP_API_URL + 'Back_mediatraining/AddAbsence.php',\r\n            type: 'POST',\r\n            data: {\r\n                date: convertDateSeance,\r\n                hd: hd,\r\n                hf: hf,\r\n                groupId: this.state.selectedGroupe.value,\r\n                matiereId: this.state.selectedMatiere.value,\r\n                ensId: this.state.selectedEnseignant.value,\r\n                eleve: this.state.listEleve,\r\n                anneeScolaire: anneeScolaire,\r\n                userId: userId\r\n            },\r\n            dataType: 'json',\r\n            success: (code_html, statut) => {\r\n                if (code_html.Result == \"OK\") {\r\n                    this.props.history.push('/Absence');\r\n                }\r\n                else if (code_html.Result == \"KO\") {\r\n                    alert(\"erreur,l'un de vos champs est vide!!\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"page-wrapper\" style={{ minHeight: '263px', marginLeft: '0px' }}>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row bg-title\">\r\n                        <div className=\"col-lg-12\">\r\n                            <h4 className=\"page-title\">Ajout séance</h4>\r\n                        </div>\r\n                        {/* /.col-lg-12 */}\r\n                    </div>\r\n                    {/* /.row */}\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-12\">\r\n                            <div className=\"white-box\">\r\n                                <div style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center', marginBottom: '10px', marginRight: '20px' }}>\r\n                                    <Link to=\"/Absence\" > <button style={{ background: '#DC143C', border: '1px solid #DC143C', borderRadius: '5px' }} type=\"button\" className=\"btn btn-info\"> <i style={{ paddingRight: '5px' }} className=\"fas fa-arrow-circle-left\"></i>Retour</button></Link>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Groupe</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={this.choixGroupe}\r\n                                                options={this.state.listGroupe}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Matiére</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={this.choixMatiere}\r\n                                                options={this.state.listMatiere}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Enseignant</label>\r\n                                            <Select\r\n                                                isClearable={true}\r\n                                                isSearchable={true}\r\n                                                onChange={this.choixEnseignant}\r\n                                                options={this.state.listEnseignant}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Date séance</label>\r\n                                            <DatePicker class=\"form-control ddate\" style={{ border: 'none' }}\r\n                                                selected={this.state.dateSeance}\r\n                                                onChange={this.addDateSeance}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Depart séance</label>\r\n                                            <DatePicker class=\"form-control ddate\" style={{ border: 'none' }}\r\n                                                selected={this.state.heureDebut}\r\n                                                onChange={this.addDateDebutSeance}\r\n                                                showTimeSelect\r\n                                                showTimeSelectOnly\r\n                                                timeIntervals={15}\r\n                                                timeCaption=\"Time\"\r\n                                                dateFormat=\"h:mm aa\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Fin séance</label>\r\n                                            <DatePicker class=\"form-control ddate\" style={{ border: 'none' }}\r\n                                                selected={this.state.heureFin}\r\n                                                onChange={this.addDateFinSeance}\r\n                                                showTimeSelect\r\n                                                showTimeSelectOnly\r\n                                                timeIntervals={15}\r\n                                                timeCaption=\"Time\"\r\n                                                dateFormat=\"h:mm aa\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                {this.state.block == true ?\r\n                                    (\r\n                                        <Fragment>\r\n                                            {this.state.listEleve.length > 0 ?\r\n                                                (<div className=\"col-md-6\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <label style={{ paddingRight: '10px' }}>Pas d'absence</label>\r\n                                                        <Checkbox\r\n                                                            onChange={(e) => this.addEtatTous(e)}\r\n                                                            disabled={this.state.disabled}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>) : (null)}\r\n                                            {this.state.blockEleve == true ?\r\n                                                (<div className=\"row\">\r\n                                                    <table style={{ marginTop: '10px' }} className=\"table table-bordered\">\r\n                                                        <thead>\r\n                                                            <tr>\r\n                                                                <th style={{ textAlign: 'center' }} scope=\"col\">Prenom</th>\r\n                                                                <th style={{ textAlign: 'center' }} scope=\"col\">Nom</th>\r\n                                                                <th style={{ textAlign: 'center' }} scope=\"col\">Assiduité</th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                        {this.state.listEleve.map((el, index) =>\r\n                                                            <tbody>\r\n                                                                <tr>\r\n                                                                    <td style={{ textAlign: 'center' }}><p style={{ textAlign: 'center', borderRadius: '5px' }}>{el.prenom}</p></td>\r\n                                                                    <td style={{ textAlign: 'center' }}><p style={{ textAlign: 'center', borderRadius: '5px' }}>{el.nom}</p></td>\r\n                                                                    <td style={{ textAlign: 'center' }}> <label style={{ paddingRight: '10px' }}> Absent</label>\r\n                                                                        <Checkbox\r\n                                                                            onChange={(e) => this.addEtat(e, index)}\r\n                                                                            disabled={this.state.disabled}\r\n                                                                        />\r\n                                                                    </td>\r\n                                                                </tr>\r\n                                                            </tbody>\r\n                                                        )}\r\n                                                    </table>\r\n                                                </div>) : (null)}\r\n                                        </Fragment>) : (null)}\r\n                                <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '10px', marginTop: '10px' }}>\r\n                                    <button style={{ borderRadius: '5px' }} type=\"button\" className=\"btn btn-success\" onClick={this.ajout}>Confirmer</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(AjoutSeanceAbsent);"]},"metadata":{},"sourceType":"module"}